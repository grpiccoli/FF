(function(){function fl(n,t){try{for(var i in t)Object.defineProperty(n.prototype,i,{value:t[i],enumerable:!1})}catch(r){n.prototype=t}}function el(n){for(var t=-1,r=n.length,i=[];++t<r;)i.push(n[t]);return i}function ol(n){return Array.prototype.slice.call(n)}function y(){}function b(n){return n}function sl(){return this}function ee(){return!0}function i(n){return typeof n=="function"?n:function(){return n}}function hl(n,t,i){return function(){var r=i.apply(t,arguments);return arguments.length?n:r}}function pr(n){return n!=null&&!isNaN(n)}function cl(n){return n.length}function ll(n){return n==null}function oe(n){return n.trim().replace(/\s+/g," ")}function al(n){for(var t=1;n*t%1;)t*=10;return t}function wr(){}function se(n){function r(){for(var i=t,r=-1,f=i.length,u;++r<f;)(u=i[r].on)&&u.apply(this,arguments);return n}var t=[],i=new y;return r.on=function(r,u){var f=i.get(r),e;return arguments.length<2?f&&f.on:(f&&(f.on=null,t=t.slice(0,e=t.indexOf(f)).concat(t.slice(e+1)),i.remove(r)),u&&t.push(i.set(r,{on:u})),n)},r}function he(n,t){return t-(n?1+Math.floor(Math.log(n+Math.pow(10,1+Math.floor(Math.log(n)/Math.LN10)-t))/Math.LN10):1)}function vl(n){return n+""}function ce(n){for(var t=n.lastIndexOf("."),r=t>=0?n.substring(t):(t=n.length,""),i=[];t>0;)i.push(n.substring(t-=3,t+3));return i.reverse().join(",")+r}function yl(n,t){var i=Math.pow(10,Math.abs(8-t)*3);return{scale:t>8?function(n){return n/i}:function(n){return n*i},symbol:n}}function pl(n){return function(t){return t<=0?0:t>=1?1:n(t)}}function le(n){return function(t){return 1-n(1-t)}}function ae(n){return function(t){return.5*(t<.5?n(2*t):2-n(2-2*t))}}function br(n){return n}function kr(n){return function(t){return Math.pow(t,n)}}function wl(n){return 1-Math.cos(n*Math.PI/2)}function bl(n){return Math.pow(2,10*(n-1))}function kl(n){return 1-Math.sqrt(1-n*n)}function dl(n,t){var i;return arguments.length<2&&(t=.45),arguments.length<1?(n=1,i=t/4):i=t/(2*Math.PI)*Math.asin(1/n),function(r){return 1+n*Math.pow(2,10*-r)*Math.sin((r-i)*2*Math.PI/t)}}function gl(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}}function na(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function o(){d3.event.stopPropagation();d3.event.preventDefault()}function ve(){for(var n=d3.event,t;t=n.sourceEvent;)n=t;return n}function dr(n){for(var t=new wr,i=0,r=arguments.length;++i<r;)t[arguments[i]]=se(t);return t.of=function(i,r){return function(u){try{var f=u.sourceEvent=d3.event;u.target=n;d3.event=u;t[u.type].apply(i,r)}finally{d3.event=f}}},t}function ye(n){var t=[n.a,n.b],i=[n.c,n.d],r=we(t),u=pe(t,i),f=we(ta(i,t,-u))||0;t[0]*i[1]<i[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,u*=-1);this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-i[0],i[1]))*vf;this.translate=[n.e,n.f];this.scale=[r,f];this.skew=f?Math.atan2(u,f)*vf:0}function pe(n,t){return n[0]*t[0]+n[1]*t[1]}function we(n){var t=Math.sqrt(pe(n,n));return t&&(n[0]/=t,n[1]/=t),t}function ta(n,t,i){return n[0]+=i*t[0],n[1]+=i*t[1],n}function be(n){return n=="transform"?d3.interpolateTransform:d3.interpolate}function ia(n,t){return t=t-(n=+n)?1/(t-n):0,function(i){return(i-n)*t}}function ra(n,t){return t=t-(n=+n)?1/(t-n):0,function(i){return Math.max(0,Math.min(1,(i-n)*t))}}function nt(){}function c(n,t,i){return new gr(n,t,i)}function gr(n,t,i){this.r=n;this.g=t;this.b=i}function tt(n){return n<16?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function nu(n,t,i){var r=0,u=0,f=0,o,e,s;if(o=/([a-z]+)\((.*)\)/i.exec(n),o){e=o[2].split(",");switch(o[1]){case"hsl":return i(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100);case"rgb":return t(iu(e[0]),iu(e[1]),iu(e[2]))}}return(s=kt.get(n))?t(s.r,s.g,s.b):(n!=null&&n.charAt(0)==="#"&&(n.length===4?(r=n.charAt(1),r+=r,u=n.charAt(2),u+=u,f=n.charAt(3),f+=f):n.length===7&&(r=n.substring(1,3),u=n.substring(3,5),f=n.substring(5,7)),r=parseInt(r,16),u=parseInt(u,16),f=parseInt(f,16)),t(r,u,f))}function ke(n,t,i){var f=Math.min(n/=255,t/=255,i/=255),r=Math.max(n,t,i),u=r-f,e,o,s=(r+f)/2;return u?(o=s<.5?u/(r+f):u/(2-r-f),e=(n==r?(t-i)/u+(t<i?6:0):t==r?(i-n)/u+2:(n-t)/u+4)*60):o=e=0,it(e,o,s)}function de(n,t,i){n=tu(n);t=tu(t);i=tu(i);var u=eu((.4124564*n+.3575761*t+.1804375*i)/uc),r=eu((.2126729*n+.7151522*t+.072175*i)/fc),f=eu((.0193339*n+.119192*t+.9503041*i)/ec);return rt(116*r-16,500*(u-r),200*(r-f))}function tu(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function iu(n){var t=parseFloat(n);return n.charAt(n.length-1)==="%"?Math.round(t*2.55):t}function it(n,t,i){return new ru(n,t,i)}function ru(n,t,i){this.h=n;this.s=t;this.l=i}function ti(n,t,i){function e(n){return(n>360?n-=360:n<0&&(n+=360),n<60)?r+(u-r)*n/60:n<180?u:n<240?r+(u-r)*(240-n)/60:r}function f(n){return Math.round(e(n)*255)}var r,u;return n=n%360,n<0&&(n+=360),t=t<0?0:t>1?1:t,i=i<0?0:i>1?1:i,u=i<=.5?i*(1+t):i+t-i*t,r=2*i-u,c(f(n+120),f(n),f(n-120))}function ct(n,t,i){return new ii(n,t,i)}function ii(n,t,i){this.h=n;this.c=t;this.l=i}function uu(n,t,i){return rt(i,Math.cos(n*=Math.PI/180)*t,Math.sin(n)*t)}function rt(n,t,i){return new ri(n,t,i)}function ri(n,t,i){this.l=n;this.a=t;this.b=i}function ge(n,t,i){var r=(n+16)/116,u=r+t/500,f=r-i/200;return u=fu(u)*uc,r=fu(r)*fc,f=fu(f)*ec,c(ou(3.2404542*u-1.5371385*r-.4985314*f),ou(-.969266*u+1.8760108*r+.041556*f),ou(.0556434*u-.2040259*r+1.0572252*f))}function no(n,t,i){return ct(Math.atan2(i,t)/Math.PI*180,Math.sqrt(t*t+i*i),n)}function fu(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function eu(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function ou(n){return Math.round(255*(n<=.00304?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function l(n){return bi(n,t),n}function to(n){return function(){return tr(n,this)}}function io(n){return function(){return oc(n,this)}}function ro(n,t){function i(){this.removeAttribute(n)}function r(){this.removeAttributeNS(n.space,n.local)}function u(){this.setAttribute(n,t)}function f(){this.setAttributeNS(n.space,n.local,t)}function e(){var i=t.apply(this,arguments);i==null?this.removeAttribute(n):this.setAttribute(n,i)}function o(){var i=t.apply(this,arguments);i==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,i)}return n=d3.ns.qualify(n),t==null?n.local?r:i:typeof t=="function"?n.local?o:e:n.local?f:u}function uo(n){return new RegExp("(?:^|\\s+)"+d3.requote(n)+"(?:\\s+|$)","g")}function fo(n,t){function r(){for(var r=-1;++r<i;)n[r](this,t)}function u(){for(var r=-1,u=t.apply(this,arguments);++r<i;)n[r](this,u)}n=n.trim().split(/\s+/).map(ua);var i=n.length;return typeof t=="function"?u:r}function ua(n){var t=uo(n);return function(i,r){if(f=i.classList)return r?f.add(n):f.remove(n);var f=i.className,e=f.baseVal!=null,u=e?f.baseVal:f;r?(t.lastIndex=0,t.test(u)||(u=oe(u+" "+n),e?f.baseVal=u:i.className=u)):u&&(u=oe(u.replace(t," ")),e?f.baseVal=u:i.className=u)}}function eo(n,t,i){function r(){this.style.removeProperty(n)}function u(){this.style.setProperty(n,t,i)}function f(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(n):this.style.setProperty(n,r,i)}return t==null?r:typeof t=="function"?f:u}function oo(n,t){function i(){delete this[n]}function r(){this[n]=t}function u(){var i=t.apply(this,arguments);i==null?delete this[n]:this[n]=i}return t==null?i:typeof t=="function"?u:r}function su(n){return{__data__:n}}function so(n){return function(){return sc(this,n)}}function fa(n){return arguments.length||(n=d3.ascending),function(t,i){return n(t&&t.__data__,i&&i.__data__)}}function ho(n,t,i){function u(){var t=this[r];t&&(this.removeEventListener(n,t,t.$),delete this[r])}function e(){function f(n){var i=d3.event;d3.event=n;o[0]=e.__data__;try{t.apply(e,o)}finally{d3.event=i}}var e=this,o=arguments;u.call(this);this.addEventListener(n,this[r]=f,f.$=i);f._=t}var r="__on"+n,f=n.indexOf(".");return f>0&&(n=n.substring(0,f)),t?e:u}function lt(n,t){for(var i=0,u=n.length;i<u;i++)for(var f=n[i],r=0,o=f.length,e;r<o;r++)(e=f[r])&&t(e,r,i);return n}function co(n){return bi(n,p),n}function ui(n,t,i){bi(n,f);var r=new y,u=d3.dispatch("start","end"),e=ur;return n.id=t,n.time=i,n.tween=function(t,i){return arguments.length<2?r.get(t):(i==null?r.remove(t):r.set(t,i),n)},n.ease=function(t){return arguments.length?(e=typeof t=="function"?t:d3.ease.apply(d3,arguments),n):e},n.each=function(t,i){if(arguments.length<2)return ea.call(n,t);u.on(t,i);return n},d3.timer(function(f){return lt(n,function(n,o){function v(f){return s.active>t?h():(s.active=t,r.forEach(function(t,i){(i=i.call(n,a,o))&&c.push(i)}),u.start.call(n,a,o),y(f)||d3.timer(y,0,i),1)}function y(i){if(s.active!==t)return h();for(var r=(i-l)/p,v=e(r),f=c.length;f>0;)c[--f].call(n,v);if(r>=1)return h(),g=t,u.end.call(n,a,o),g=0,1}function h(){return--s.count||delete n.__transition__,1}var c=[],l=n.delay,p=n.duration,s=(n=n.node).__transition__||(n.__transition__={active:0,count:0}),a=n.__data__;++s.count;l<=f?v(f):d3.timer(v,l,i)})},0,i),n}function ea(n){var t=g,i=ur,r=ir,u=rr;return g=this.id,ur=this.ease(),lt(this,function(t,i,r){ir=t.delay;rr=t.duration;n.call(t=t.node,t.__data__,i,r)}),g=t,ur=i,ir=r,rr=u,this}function oa(n,t,i){return i!=""&&dt}function fi(n,t){return d3.tween(n,be(t))}function hu(){for(var i,r=Date.now(),n=st,t;n;)i=r-n.then,i>=n.delay&&(n.flush=n.callback(i)),n=n.next;t=lo()-r;t>24?(isFinite(t)&&(clearTimeout(er),er=setTimeout(hu,t)),fr=0):(fr=1,wf(hu))}function lo(){for(var t=null,n=st,i=Infinity;n;)n.flush?(delete pf[n.callback.id],n=t?t.next=n.next:st=n.next):(i=Math.min(i,n.then+n.delay),n=(t=n).next);return i}function ao(n,t){var r=n.ownerSVGElement||n,i,u,f;return r.createSVGPoint?(i=r.createSVGPoint(),or<0&&(window.scrollX||window.scrollY)&&(r=d3.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0),u=r[0][0].getScreenCTM(),or=!(u.f||u.e),r.remove()),or?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]):(f=n.getBoundingClientRect(),[t.clientX-f.left-n.clientLeft,t.clientY-f.top-n.clientTop])}function at(n){var t=n[0],i=n[n.length-1];return t<i?[t,i]:[i,t]}function ei(n){return n.rangeExtent?n.rangeExtent():at(n.range())}function oi(n,t){var u=0,f=n.length-1,i=n[u],r=n[f],e;return r<i&&(e=u,u=f,f=e,e=i,i=r,r=e),(t=t(r-i))&&(n[u]=t.floor(i),n[f]=t.ceil(r)),n}function sa(){return Math}function vo(n,t,i,r){function f(){var f=Math.min(n.length,t.length)>2?ca:ha,s=r?ra:ia;return e=f(n,t,s,i),o=f(t,n,s,d3.interpolate),u}function u(n){return e(n)}var e,o;return u.invert=function(n){return o(n)},u.domain=function(t){return arguments.length?(n=t.map(Number),f()):n},u.range=function(n){return arguments.length?(t=n,f()):t},u.rangeRound=function(n){return u.range(n).interpolate(d3.interpolateRound)},u.clamp=function(n){return arguments.length?(r=n,f()):r},u.interpolate=function(n){return arguments.length?(i=n,f()):i},u.ticks=function(t){return cu(n,t)},u.tickFormat=function(t){return lu(n,t)},u.nice=function(){return oi(n,po),f()},u.copy=function(){return vo(n,t,i,r)},f()}function yo(n,t){return d3.rebind(n,t,"range","rangeRound","interpolate","clamp")}function po(n){return n=Math.pow(10,Math.round(Math.log(n)/Math.LN10)-1),n&&{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}}function wo(n,t){var r=at(n),f=r[1]-r[0],i=Math.pow(10,Math.floor(Math.log(f/t)/Math.LN10)),u=t/f*i;return u<=.15?i*=10:u<=.35?i*=5:u<=.75&&(i*=2),r[0]=Math.ceil(r[0]/i)*i,r[1]=Math.floor(r[1]/i)*i+i*.5,r[2]=i,r}function cu(n,t){return d3.range.apply(d3,wo(n,t))}function lu(n,t){return d3.format(",."+Math.max(0,-Math.floor(Math.log(wo(n,t)[2])/Math.LN10+.01))+"f")}function ha(n,t,i,r){var u=i(n[0],n[1]),f=r(t[0],t[1]);return function(n){return f(u(n))}}function ca(n,t,i,r){var e=[],o=[],u=0,f=Math.min(n.length,t.length)-1;for(n[f]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++u<=f;)e.push(i(n[u-1],n[u])),o.push(r(t[u-1],t[u]));return function(t){var i=d3.bisect(n,t,1,f)-1;return o[i](e[i](t))}}function bo(n,t){function i(i){return n(t(i))}var r=t.pow;return i.invert=function(t){return r(n.invert(t))},i.domain=function(u){return arguments.length?(t=u[0]<0?si:au,r=t.pow,n.domain(u.map(t)),i):n.domain().map(r)},i.nice=function(){return n.domain(oi(n.domain(),sa)),i},i.ticks=function(){var o=at(n.domain()),u=[],f;if(o.every(isFinite)){var i=Math.floor(o[0]),e=Math.ceil(o[1]),s=r(o[0]),h=r(o[1]);if(t===si)for(u.push(r(i));i++<e;)for(f=9;f>0;f--)u.push(r(i)*f);else{for(;i<e;i++)for(f=1;f<10;f++)u.push(r(i)*f);u.push(r(i))}for(i=0;u[i]<s;i++);for(e=u.length;u[e-1]>h;e--);u=u.slice(i,e)}return u},i.tickFormat=function(n,u){if(arguments.length<2&&(u=hc),arguments.length<1)return u;var e=Math.max(.1,n/i.ticks().length),o=t===si?(f=-1e-12,Math.floor):(f=1e-12,Math.ceil),f;return function(n){return n/r(o(t(n)+f))<=e?u(n):""}},i.copy=function(){return bo(n.copy(),t)},yo(i,n)}function au(n){return Math.log(n<0?0:n)/Math.LN10}function si(n){return-Math.log(n>0?0:-n)/Math.LN10}function ko(n,t){function i(t){return n(r(t))}var r=hi(t),u=hi(1/t);return i.invert=function(t){return u(n.invert(t))},i.domain=function(t){return arguments.length?(n.domain(t.map(r)),i):n.domain().map(u)},i.ticks=function(n){return cu(i.domain(),n)},i.tickFormat=function(n){return lu(i.domain(),n)},i.nice=function(){return i.domain(oi(i.domain(),po))},i.exponent=function(n){if(!arguments.length)return t;var f=i.domain();return r=hi(t=n),u=hi(1/t),i.domain(f)},i.copy=function(){return ko(n.copy(),t)},yo(i,n)}function hi(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function go(n,t){function i(t){return r[((u.get(t)||u.set(t,n.push(t)))-1)%r.length]}function e(t,i){return d3.range(n.length).map(function(n){return t+i*n})}var u,r,f;return i.domain=function(r){if(!arguments.length)return n;n=[];u=new y;for(var e=-1,o=r.length,f;++e<o;)u.has(f=r[e])||u.set(f,n.push(f));return i[t.t].apply(i,t.a)},i.range=function(n){return arguments.length?(r=n,f=0,t={t:"range",a:arguments},i):r},i.rangePoints=function(u,o){arguments.length<2&&(o=0);var s=u[0],h=u[1],c=(h-s)/(Math.max(1,n.length-1)+o);return r=e(n.length<2?(s+h)/2:s+c*o/2,c),f=0,t={t:"rangePoints",a:arguments},i},i.rangeBands=function(u,o,s){arguments.length<2&&(o=0);arguments.length<3&&(s=o);var h=u[1]<u[0],l=u[+h],a=u[1-h],c=(a-l)/(n.length-o+2*s);return r=e(l+c*s,c),h&&r.reverse(),f=c*(1-o),t={t:"rangeBands",a:arguments},i},i.rangeRoundBands=function(u,o,s){arguments.length<2&&(o=0);arguments.length<3&&(s=o);var h=u[1]<u[0],c=u[+h],a=u[1-h],l=Math.floor((a-c)/(n.length-o+2*s)),v=a-c-(n.length-o)*l;return r=e(c+Math.round(v/2),l),h&&r.reverse(),f=Math.round(l*(1-o)),t={t:"rangeRoundBands",a:arguments},i},i.rangeBand=function(){return f},i.rangeExtent=function(){return at(t.a[0])},i.copy=function(){return go(n,t)},i.domain(n)}function ns(n,t){function u(){var u=0,e=n.length,f=t.length;for(r=[];++u<f;)r[u-1]=d3.quantile(n,u/f);return i}function i(n){return isNaN(n=+n)?NaN:t[d3.bisect(r,n)]}var r;return i.domain=function(t){return arguments.length?(n=t.filter(function(n){return!isNaN(n)}).sort(d3.ascending),u()):n},i.range=function(n){return arguments.length?(t=n,u()):t},i.quantiles=function(){return r},i.copy=function(){return ns(n,t)},u()}function ts(n,t,i){function r(t){return i[Math.max(0,Math.min(e,Math.floor(f*(t-n))))]}function u(){return f=i.length/(t-n),e=i.length-1,r}var f,e;return r.domain=function(i){return arguments.length?(n=+i[0],t=+i[i.length-1],u()):[n,t]},r.range=function(n){return arguments.length?(i=n,u()):i},r.copy=function(){return ts(n,t,i)},u()}function is(n,t){function i(i){return t[d3.bisect(n,i)]}return i.domain=function(t){return arguments.length?(n=t,i):n},i.range=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return is(n,t)},i}function rs(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(i){return arguments.length?(n=i.map(t),t):n},t.ticks=function(t){return cu(n,t)},t.tickFormat=function(t){return lu(n,t)},t.copy=function(){return rs(n)},t}function la(n){return n.innerRadius}function aa(n){return n.outerRadius}function us(n){return n.startAngle}function fs(n){return n.endAngle}function es(n){function t(t){function a(){c.push("M",r(n(e),h))}for(var c=[],e=[],s=-1,v=t.length,l,y=i(u),p=i(f);++s<v;)o.call(this,l=t[s],s)?e.push([+y.call(this,l,s),+p.call(this,l,s)]):e.length&&(a(),e=[]);return e.length&&a(),c.length?c.join(""):null}var u=vu,f=os,o=ee,r=e,s=r.key,h=.7;return t.x=function(n){return arguments.length?(u=n,t):u},t.y=function(n){return arguments.length?(f=n,t):f},t.defined=function(n){return arguments.length?(o=n,t):o},t.interpolate=function(n){return arguments.length?(s=typeof n=="function"?r=n:(r=sr.get(n)||e).key,t):s},t.tension=function(n){return arguments.length?(h=n,t):h},t}function vu(n){return n[0]}function os(n){return n[1]}function e(n){return n.join("L")}function va(n){return e(n)+"Z"}function yu(n){for(var i=0,u=n.length,t=n[0],r=[t[0],",",t[1]];++i<u;)r.push("V",(t=n[i])[1],"H",t[0]);return r.join("")}function pu(n){for(var i=0,u=n.length,t=n[0],r=[t[0],",",t[1]];++i<u;)r.push("H",(t=n[i])[0],"V",t[1]);return r.join("")}function ya(n,t){return n.length<4?e(n):n[1]+ci(n.slice(1,n.length-1),wu(n,t))}function pa(n,t){return n.length<3?e(n):n[0]+ci((n.push(n[0]),n),wu([n[n.length-2]].concat(n,[n[1]]),t))}function wa(n,t){return n.length<3?e(n):n[0]+ci(n,wu(n,t))}function ci(n,t){var s,c;if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return e(n);var l=n.length!=t.length,f="",h=n[0],i=n[1],o=t[0],r=o,u=1;if(l&&(f+="Q"+(i[0]-o[0]*2/3)+","+(i[1]-o[1]*2/3)+","+i[0]+","+i[1],h=n[1],u=2),t.length>1)for(r=t[1],i=n[u],u++,f+="C"+(h[0]+o[0])+","+(h[1]+o[1])+","+(i[0]-r[0])+","+(i[1]-r[1])+","+i[0]+","+i[1],s=2;s<t.length;s++,u++)i=n[u],r=t[s],f+="S"+(i[0]-r[0])+","+(i[1]-r[1])+","+i[0]+","+i[1];return l&&(c=n[u],f+="Q"+(i[0]+r[0]*2/3)+","+(i[1]+r[1]*2/3)+","+c[0]+","+c[1]),f}function wu(n,t){for(var u=[],f=(1-t)/2,r,e=n[0],i=n[1],o=1,s=n.length;++o<s;)r=e,e=i,i=n[o],u.push([f*(i[0]-r[0]),f*(i[1]-r[1])]);return u}function ss(n){if(n.length<3)return e(n);var u=1,h=n.length,t=n[0],f=t[0],o=t[1],i=[f,f,f,(t=n[1])[0]],r=[o,o,o,t[1]],s=[f,",",o];for(vt(s,i,r);++u<h;)t=n[u],i.shift(),i.push(t[0]),r.shift(),r.push(t[1]),vt(s,i,r);for(u=-1;++u<2;)i.shift(),i.push(t[0]),r.shift(),r.push(t[1]),vt(s,i,r);return s.join("")}function ba(n){if(n.length<4)return e(n);for(var f=[],i=-1,o=n.length,t,r=[0],u=[0];++i<3;)t=n[i],r.push(t[0]),u.push(t[1]);for(f.push(h(ht,r)+","+h(ht,u)),--i;++i<o;)t=n[i],r.shift(),r.push(t[0]),u.shift(),u.push(t[1]),vt(f,r,u);return f.join("")}function ka(n){for(var f,i=-1,e=n.length,o=e+4,t,r=[],u=[];++i<4;)t=n[i%e],r.push(t[0]),u.push(t[1]);for(f=[h(ht,r),",",h(ht,u)],--i;++i<o;)t=n[i%e],r.shift(),r.push(t[0]),u.shift(),u.push(t[1]),vt(f,r,u);return f.join("")}function da(n,t){var i=n.length-1;if(i)for(var e=n[0][0],o=n[0][1],s=n[i][0]-e,h=n[i][1]-o,u=-1,r,f;++u<=i;)r=n[u],f=u/i,r[0]=t*r[0]+(1-t)*(e+f*s),r[1]=t*r[1]+(1-t)*(o+f*h);return ss(n)}function h(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}function vt(n,t,i){n.push("C",h(lc,t),",",h(lc,i),",",h(ac,t),",",h(ac,i),",",h(ht,t),",",h(ht,i))}function bu(n,t){return(t[1]-n[1])/(t[0]-n[0])}function ga(n){for(var t=0,e=n.length-1,i=[],f=n[0],r=n[1],u=i[0]=bu(f,r);++t<e;)i[t]=(u+(u=bu(f=r,r=n[t+1])))/2;return i[t]=u,i}function nv(n){for(var s=[],u,f,e,i,r=ga(n),t=-1,o=n.length-1;++t<o;)u=bu(n[t],n[t+1]),Math.abs(u)<1e-6?r[t]=r[t+1]=0:(f=r[t]/u,e=r[t+1]/u,i=f*f+e*e,i>9&&(i=u*3/Math.sqrt(i),r[t]=i*f,r[t+1]=i*e));for(t=-1;++t<=o;)i=(n[Math.min(o,t+1)][0]-n[Math.max(0,t-1)][0])/(6*(1+r[t]*r[t])),s.push([i||0,r[t]*i||0]);return s}function tv(n){return n.length<3?e(n):n[0]+ci(n,nv(n))}function hs(n){for(var t,u=-1,f=n.length,i,r;++u<f;)t=n[u],i=t[0],r=t[1]+w,t[0]=i*Math.cos(r),t[1]=i*Math.sin(r);return n}function cs(n){function t(t){function b(){p.push("M",r(n(w),h),v,a(n(l.reverse()),h),"Z")}for(var p=[],l=[],w=[],e=-1,g=t.length,y,nt=i(o),tt=i(s),it=o===u?function(){return k}:i(u),rt=s===f?function(){return d}:i(f),k,d;++e<g;)c.call(this,y=t[e],e)?(l.push([k=+nt.call(this,y,e),d=+tt.call(this,y,e)]),w.push([+it.call(this,y,e),+rt.call(this,y,e)])):l.length&&(b(),l=[],w=[]);return l.length&&b(),p.length?p.join(""):null}var o=vu,u=vu,s=0,f=os,c=ee,r=e,l=r.key,a=r,v="L",h=.7;return t.x=function(n){return arguments.length?(o=u=n,t):u},t.x0=function(n){return arguments.length?(o=n,t):o},t.x1=function(n){return arguments.length?(u=n,t):u},t.y=function(n){return arguments.length?(s=f=n,t):f},t.y0=function(n){return arguments.length?(s=n,t):s},t.y1=function(n){return arguments.length?(f=n,t):f},t.defined=function(n){return arguments.length?(c=n,t):c},t.interpolate=function(n){return arguments.length?(l=typeof n=="function"?r=n:(r=sr.get(n)||e).key,a=r.reverse||r,v=r.closed?"M":"L",t):l},t.tension=function(n){return arguments.length?(h=n,t):h},t}function ls(n){return n.source}function as(n){return n.target}function iv(n){return n.radius}function vs(n){return[n.x,n.y]}function rv(n){return function(){var t=n.apply(this,arguments),i=t[0],r=t[1]+w;return[i*Math.cos(r),i*Math.sin(r)]}}function uv(){return 64}function fv(){return"circle"}function ys(n){var t=Math.sqrt(n/Math.PI);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function ps(n,t){n.attr("transform",function(n){return"translate("+t(n)+",0)"})}function ws(n,t){n.attr("transform",function(n){return"translate(0,"+t(n)+")"})}function ev(n,t,i){if(u=[],i&&t.length>1){for(var o=at(n.domain()),u,f=-1,h=t.length,s=(t[1]-t[0])/++i,r,e;++f<h;)for(r=i;--r>0;)(e=+t[f]-r*s)>=o[0]&&u.push(e);for(--f,r=0;++r<i&&(e=+t[f]+r*s)<o[1];)u.push(e)}return u}function ov(){ni||(ni=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var n=d3.event,t;try{ni.scrollTop=1e3;ni.dispatchEvent(n);t=1e3-ni.scrollTop}catch(i){t=n.wheelDelta||-n.detail*5}return t}function sv(n){for(var t=n.source,i=n.target,u=hv(t,i),r=[t],f;t!==u;)t=t.parent,r.push(t);for(f=r.length;i!==u;)r.splice(f,0,i),i=i.parent;return r}function bs(n){for(var i=[],t=n.parent;t!=null;)i.push(n),n=t,t=t.parent;return i.push(n),i}function hv(n,t){if(n===t)return n;for(var r=bs(n),u=bs(t),i=r.pop(),f=u.pop(),e=null;i===f;)e=i,i=r.pop(),f=u.pop();return e}function cv(n){n.fixed|=2}function lv(n){n.fixed&=1}function av(n){n.fixed|=4}function vv(n){n.fixed&=3}function ks(n,t,i){var f=0,e=0,u;if(n.charge=0,!n.leaf)for(var o=n.nodes,h=o.length,s=-1,r;++s<h;)(r=o[s],r!=null)&&(ks(r,t,i),n.charge+=r.charge,f+=r.charge*r.cx,e+=r.charge*r.cy);n.point&&(n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5),u=t*i[n.point.index],n.charge+=n.pointCharge=u,f+=u*n.point.x,e+=u*n.point.y);n.cx=f/n.charge;n.cy=e/n.charge}function yv(){return 20}function pv(){return 1}function wv(n){return n.x}function bv(n){return n.y}function kv(n,t,i){n.y0=t;n.y=i}function ku(n){return d3.range(n.length)}function du(n){for(var t=-1,r=n[0].length,i=[];++t<r;)i[t]=0;return i}function dv(n){for(var t=1,i=0,r=n[0][1],u,f=n.length;t<f;++t)(u=n[t][1])>r&&(i=t,r=u);return i}function gv(n){return n.reduce(ny,0)}function ny(n,t){return n+t[1]}function ty(n,t){return ds(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function ds(n,t){for(var i=-1,r=+n[0],f=(n[1]-r)/t,u=[];++i<=t;)u[i]=f*i+r;return u}function iy(n){return[d3.min(n),d3.max(n)]}function yt(n,t){return d3.rebind(n,t,"sort","children","value"),n.links=ey,n.nodes=function(t){return cr=!0,(n.nodes=n)(t)},n}function ry(n){return n.children}function uy(n){return n.value}function fy(n,t){return t.value-n.value}function ey(n){return d3.merge(n.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}function oy(n,t){return n.value-t.value}function gu(n,t){var i=n._pack_next;n._pack_next=t;t._pack_prev=n;t._pack_next=i;i._pack_prev=t}function gs(n,t){n._pack_next=t;t._pack_prev=n}function nh(n,t){var i=t.x-n.x,r=t.y-n.y,u=n.r+t.r;return u*u-i*i-r*r>.001}function th(n){function h(n){c=Math.min(n.x-n.r,c);l=Math.max(n.x+n.r,l);a=Math.min(n.y-n.r,a);v=Math.max(n.y+n.r,v)}if((u=n.children)&&(s=u.length)){var u,c=Infinity,l=-Infinity,a=Infinity,v=-Infinity,i,r,t,f,e,o,s;if(u.forEach(sy),i=u[0],i.x=-i.r,i.y=0,h(i),s>1&&(r=u[1],r.x=r.r,r.y=0,h(r),s>2))for(t=u[2],rh(i,r,t),h(t),gu(i,t),i._pack_prev=t,gu(t,r),r=i._pack_next,f=3;f<s;f++){rh(i,r,t=u[f]);var y=0,p=1,w=1;for(e=r._pack_next;e!==r;e=e._pack_next,p++)if(nh(e,t)){y=1;break}if(y==1)for(o=i._pack_prev;o!==e._pack_prev;o=o._pack_prev,w++)if(nh(o,t))break;y?(p<w||p==w&&r.r<i.r?gs(i,r=e):gs(i=o,r),f--):(gu(i,t),r=t,h(t))}var k=(c+l)/2,d=(a+v)/2,b=0;for(f=0;f<s;f++)t=u[f],t.x-=k,t.y-=d,b=Math.max(b,t.r+Math.sqrt(t.x*t.x+t.y*t.y));n.r=b;u.forEach(hy)}}function sy(n){n._pack_next=n._pack_prev=n}function hy(n){delete n._pack_next;delete n._pack_prev}function ih(n,t,i,r){var u=n.children,f,e;if(n.x=t+=r*n.x,n.y=i+=r*n.y,n.r*=r,u)for(f=-1,e=u.length;++f<e;)ih(u[f],t,i,r)}function rh(n,t,i){var r=n.r+i.r,f=t.x-n.x,e=t.y-n.y,u,o,s,h;r&&(f||e)?(u=t.r+i.r,o=f*f+e*e,u*=u,r*=r,s=.5+(r-u)/(2*o),h=Math.sqrt(Math.max(0,2*u*(r+o)-(r-=o)*r-u*u))/(2*o),i.x=n.x+s*f+h*e,i.y=n.y+s*e-h*f):(i.x=n.x+r,i.y=n.y)}function cy(n){return 1+d3.max(n,function(n){return n.y})}function ly(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function uh(n){var t=n.children;return t&&t.length?uh(t[0]):n}function fh(n){var t=n.children,i;return t&&(i=t.length)?fh(t[i-1]):n}function eh(n,t){return n.parent==t.parent?1:2}function nf(n){var t=n.children;return t&&t.length?t[0]:n._tree.thread}function tf(n){var t=n.children,i;return t&&(i=t.length)?t[i-1]:n._tree.thread}function li(n,t){var i=n.children,u,f,r;if(i&&(f=i.length))for(r=-1;++r<f;)t(u=li(i[r],t),n)>0&&(n=u);return n}function ay(n,t){return n.x-t.x}function vy(n,t){return t.x-n.x}function yy(n,t){return n.depth-t.depth}function a(n,t){function i(n,r){var u=n.children,f,e,o,s;if(u&&(s=u.length))for(e=null,o=-1;++o<s;)f=u[o],i(f,e),e=f;t(n,r)}i(n,null)}function py(n){for(var i=0,f=0,r=n.children,u=r.length,t;--u>=0;)t=r[u]._tree,t.prelim+=i,t.mod+=i,i+=t.shift+(f+=t.change)}function wy(n,t,i){n=n._tree;t=t._tree;var r=i/(t.number-n.number);n.change+=r;t.change-=r;t.shift+=i;t.prelim+=i;t.mod+=i}function by(n,t,i){return n._tree.ancestor.parent==t.parent?n._tree.ancestor:i}function rf(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function oh(n,t){var u=n.x+t[3],f=n.y+t[0],i=n.dx-t[1]-t[3],r=n.dy-t[0]-t[2];return i<0&&(u+=i/2,i=0),r<0&&(f+=r/2,r=0),{x:u,y:f,dx:i,dy:r}}function sh(n,t){function r(n,i){d3.text(n,t,function(n){i(n&&r.parse(n))})}function u(t){return t.map(f).join(n)}function f(n){return e.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}var i=new RegExp("\r\n|["+n+"\r\n]","g"),e=new RegExp('["'+n+"\n]"),o=n.charCodeAt(0);return r.parse=function(n){var t;return r.parseRows(n,function(n,i){if(i){for(var u={},r=-1,f=t.length;++r<f;)u[t[r]]=n[r];return u}return t=n,null})},r.parseRows=function(n,t){function s(){var r,t,s,f;if(i.lastIndex>=n.length)return e;if(u)return u=!1,h;if(r=i.lastIndex,n.charCodeAt(r)===34){for(t=r;t++<n.length;)if(n.charCodeAt(t)===34){if(n.charCodeAt(t+1)!==34)break;t++}return i.lastIndex=t+2,s=n.charCodeAt(t+1),s===13?(u=!0,n.charCodeAt(t+2)===10&&i.lastIndex++):s===10&&(u=!0),n.substring(r+1,t).replace(/""/g,'"')}return(f=i.exec(n),f)?(u=f[0].charCodeAt(0)!==o,n.substring(r,f.index)):(i.lastIndex=n.length,n.substring(r))}var h={},e={},c=[],l=0,r,u,f;for(i.lastIndex=0;(r=s())!==e;){for(f=[];r!==h&&r!==e;)f.push(r),r=s();(!t||(f=t(f,l++)))&&c.push(f)}return c},r.format=function(n){return n.map(u).join("\n")},r}function ai(n,t){return function(i){return i&&n.hasOwnProperty(i.type)?n[i.type](i):t}}function uf(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function vi(n,t){ne.hasOwnProperty(n.type)&&ne[n.type](n,t)}function ky(n,t){vi(n.geometry,t)}function dy(n,t){for(var r=n.features,i=0,u=r.length;i<u;i++)vi(r[i].geometry,t)}function gy(n,t){for(var r=n.geometries,i=0,u=r.length;i<u;i++)vi(r[i],t)}function hh(n,t){for(var r=n.coordinates,i=0,u=r.length;i<u;i++)t.apply(null,r[i])}function np(n,t){for(var u=n.coordinates,i=0,e=u.length;i<e;i++)for(var f=u[i],r=0,o=f.length;r<o;r++)t.apply(null,f[r])}function tp(n,t){for(var u=n.coordinates,i=0,e=u.length;i<e;i++)for(var f=u[i][0],r=0,o=f.length;r<o;r++)t.apply(null,f[r])}function ip(n,t){t.apply(null,n.coordinates)}function rp(n,t){for(var r=n.coordinates[0],i=0,u=r.length;i<u;i++)t.apply(null,r[i])}function up(n){return n.source}function fp(n){return n.target}function ch(){function i(i){var r=Math.sin(i*=t)*h,u=Math.sin(t-i)*h,f=u*l+r*y,o=u*a+r*p,c=u*e+r*s;return[Math.atan2(o,f)/n,Math.atan2(c,Math.sqrt(f*f+o*o))/n]}var f,c,r,e,l,a,o,v,u,s,y,p,t,h;return i.distance=function(){return t==null&&(h=1/Math.sin(t=Math.acos(Math.max(-1,Math.min(1,e*s+r*u*Math.cos(o-f)))))),t},i.source=function(u){var o=Math.cos(f=u[0]*n),s=Math.sin(f);return r=Math.cos(c=u[1]*n),e=Math.sin(c),l=r*o,a=r*s,t=null,i},i.target=function(r){var f=Math.cos(o=r[0]*n),e=Math.sin(o);return u=Math.cos(v=r[1]*n),s=Math.sin(v),y=u*f,p=u*e,t=null,i},i}function lh(n,t){var i=ch().source(n).target(t);return i.distance(),i}function ep(n){for(var t=0,i=0;;){if(n(t,i))return[t,i];t===0?(t=i+1,i=0):(t=t-1,i=i+1)}}function op(n,t,i,r){var u,f,e,o,s,h,c;return u=r[n],f=u[0],e=u[1],u=r[t],o=u[0],s=u[1],u=r[i],h=u[0],c=u[1],(c-e)*(o-f)-(s-e)*(h-f)>0}function ff(n,t,i){return(i[0]-t[0])*(n[1]-t[1])<(i[1]-t[1])*(n[0]-t[0])}function ah(n,t,i,r){var u=n[0],v=t[0],e=i[0],y=r[0],f=n[1],p=t[1],o=i[1],w=r[1],b=u-e,s=v-u,h=y-e,k=f-o,c=p-f,l=w-o,a=(h*k-l*b)/(l*s-h*c);return[u+a*s,f+a*c]}function vh(n,t){var l={list:n.map(function(n,t){return{index:t,x:n[0],y:n[1]}}).sort(function(n,t){return n.y<t.y?-1:n.y>t.y?1:n.x<t.x?-1:n.x>t.x?1:0}),bottomSite:null},i={list:[],leftEnd:null,rightEnd:null,init:function(){i.leftEnd=i.createHalfEdge(null,"l");i.rightEnd=i.createHalfEdge(null,"l");i.leftEnd.r=i.rightEnd;i.rightEnd.l=i.leftEnd;i.list.unshift(i.leftEnd,i.rightEnd)},createHalfEdge:function(n,t){return{edge:n,side:t,vertex:null,l:null,r:null}},insert:function(n,t){t.l=n;t.r=n.r;n.r.l=t;n.r=t},leftBound:function(n){var t=i.leftEnd;do t=t.r;while(t!=i.rightEnd&&e.rightOf(t,n));return t.l},del:function(n){n.l.r=n.r;n.r.l=n.l;n.edge=null},right:function(n){return n.r},left:function(n){return n.l},leftRegion:function(n){return n.edge==null?l.bottomSite:n.edge.region[n.side]},rightRegion:function(n){return n.edge==null?l.bottomSite:n.edge.region[lr[n.side]]}},e={bisect:function(n,t){var u={region:{l:n,r:t},ep:{l:null,r:null}},i=t.x-n.x,r=t.y-n.y,f=i>0?i:-i,e=r>0?r:-r;return u.c=n.x*i+n.y*r+(i*i+r*r)*.5,f>e?(u.a=1,u.b=r/i,u.c/=i):(u.b=1,u.a=i/r,u.c/=r),u},intersect:function(n,t){var i=n.edge,r=t.edge,u,h;if(!i||!r||i.region.r==r.region.r||(u=i.a*r.b-i.b*r.a,Math.abs(u)<1e-10))return null;var c=(i.c*r.b-r.c*i.b)/u,l=(r.c*i.a-i.c*r.a)/u,e=i.region.r,o=r.region.r,f,s;return(e.y<o.y||e.y==o.y&&e.x<o.x?(f=n,s=i):(f=t,s=r),h=c>=s.region.r.x,h&&f.side==="l"||!h&&f.side==="r")?null:{x:c,y:l}},rightOf:function(n,t){var i=n.edge,u=i.region.r,f=t.x>u.x,h;if(f&&n.side==="l")return 1;if(!f&&n.side==="r")return 0;if(i.a===1){var e=t.y-u.y,o=t.x-u.x,s=0,r=0;!f&&i.b<0||f&&i.b>=0?r=s=e>=i.b*o:(r=t.x+t.y*i.b>i.c,i.b<0&&(r=!r),r||(s=1));s||(h=u.x-i.region.l.x,r=i.b*(o*o-e*e)<h*e*(1+2*o/h+i.b*i.b),i.b<0&&(r=!r))}else{var c=i.c-i.a*t.x,l=t.y-c,a=t.x-u.x,v=c-u.y;r=l*l>a*a+v*v}return n.side==="l"?r:!r},endPoint:function(n,i,r){(n.ep[i]=r,n.ep[lr[i]])&&t(n)},distance:function(n,t){var i=n.x-t.x,r=n.y-t.y;return Math.sqrt(i*i+r*r)}},u={list:[],insert:function(n,t,i){var f;n.vertex=t;n.ystar=t.y+i;for(var r=0,e=u.list,o=e.length;r<o;r++)if(f=e[r],n.ystar>f.ystar||n.ystar==f.ystar&&t.x>f.vertex.x)continue;else break;e.splice(r,0,n)},del:function(n){for(var t=0,i=u.list,r=i.length;t<r&&i[t]!=n;++t);i.splice(t,1)},empty:function(){return u.list.length===0},nextEvent:function(n){for(var t=0,i=u.list,r=i.length;t<r;++t)if(i[t]==n)return i[t+1];return null},min:function(){var n=u.list[0];return{x:n.vertex.x,y:n.ystar}},extractMin:function(){return u.list.shift()}},s,p,r,h,v,k,o,c,y,d,f,w,a,b;for(i.init(),l.bottomSite=l.list.shift(),s=l.list.shift();;)if(u.empty()||(p=u.min()),s&&(u.empty()||s.y<p.y||s.y==p.y&&s.x<p.x))r=i.leftBound(s),h=i.right(r),c=i.rightRegion(r),a=e.bisect(c,s),o=i.createHalfEdge(a,"l"),i.insert(r,o),f=e.intersect(r,o),f&&(u.del(r),u.insert(r,f,e.distance(f,s))),r=o,o=i.createHalfEdge(a,"r"),i.insert(r,o),f=e.intersect(o,h),f&&u.insert(o,f,e.distance(f,s)),s=l.list.shift();else if(u.empty())break;else r=u.extractMin(),v=i.left(r),h=i.right(r),k=i.right(h),c=i.leftRegion(r),y=i.rightRegion(h),w=r.vertex,e.endPoint(r.edge,r.side,w),e.endPoint(h.edge,h.side,w),i.del(r),u.del(h),i.del(h),b="l",c.y>y.y&&(d=c,c=y,y=d,b="r"),a=e.bisect(c,y),o=i.createHalfEdge(a,b),i.insert(v,o),e.endPoint(a,lr[b],w),f=e.intersect(v,o),f&&(u.del(v),u.insert(v,f,e.distance(f,c))),f=e.intersect(o,k),f&&u.insert(o,f,e.distance(f,c));for(r=i.right(i.leftEnd);r!=i.rightEnd;r=i.right(r))t(r.edge)}function yh(){return{leaf:!0,nodes:[],point:null}}function pt(n,t,i,r,u,f){if(!n(t,i,r,u,f)){var o=(i+u)*.5,s=(r+f)*.5,e=t.nodes;e[0]&&pt(n,e[0],i,r,o,s);e[1]&&pt(n,e[1],o,r,u,s);e[2]&&pt(n,e[2],i,s,o,f);e[3]&&pt(n,e[3],o,s,u,f)}}function sp(n){return{x:n[0],y:n[1]}}function k(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function ph(n){return n.substring(0,3)}function yi(n,t,i,r){for(var u,f,e=0,o=t.length,s=i.length;e<o;){if(r>=s)return-1;if(u=t.charCodeAt(e++),u==37){if(f=fb[t.charAt(e++)],!f||(r=f(n,i,r))<0)return-1}else if(u!=i.charCodeAt(r++))return-1}return r}function pi(n){return new RegExp("^(?:"+n.map(d3.requote).join("|")+")","i")}function wh(n){for(var i=new y,t=-1,r=n.length;++t<r;)i.set(n[t].toLowerCase(),t);return i}function hp(n,t,i){nl.lastIndex=0;var r=nl.exec(t.substring(i));return r?i+=r[0].length:-1}function cp(n,t,i){gc.lastIndex=0;var r=gc.exec(t.substring(i));return r?i+=r[0].length:-1}function lp(n,t,i){il.lastIndex=0;var r=il.exec(t.substring(i));return r?(n.m=ub.get(r[0].toLowerCase()),i+=r[0].length):-1}function ap(n,t,i){tl.lastIndex=0;var r=tl.exec(t.substring(i));return r?(n.m=rb.get(r[0].toLowerCase()),i+=r[0].length):-1}function vp(n,t,i){return yi(n,vr.c.toString(),t,i)}function yp(n,t,i){return yi(n,vr.x.toString(),t,i)}function pp(n,t,i){return yi(n,vr.X.toString(),t,i)}function wp(n,t,i){u.lastIndex=0;var r=u.exec(t.substring(i,i+4));return r?(n.y=+r[0],i+=r[0].length):-1}function bp(n,t,i){u.lastIndex=0;var r=u.exec(t.substring(i,i+2));return r?(n.y=kp(+r[0]),i+=r[0].length):-1}function kp(n){return n+(n>68?1900:2e3)}function dp(n,t,i){u.lastIndex=0;var r=u.exec(t.substring(i,i+2));return r?(n.m=r[0]-1,i+=r[0].length):-1}function bh(n,t,i){u.lastIndex=0;var r=u.exec(t.substring(i,i+2));return r?(n.d=+r[0],i+=r[0].length):-1}function kh(n,t,i){u.lastIndex=0;var r=u.exec(t.substring(i,i+2));return r?(n.H=+r[0],i+=r[0].length):-1}function gp(n,t,i){u.lastIndex=0;var r=u.exec(t.substring(i,i+2));return r?(n.M=+r[0],i+=r[0].length):-1}function nw(n,t,i){u.lastIndex=0;var r=u.exec(t.substring(i,i+2));return r?(n.S=+r[0],i+=r[0].length):-1}function tw(n,t,i){u.lastIndex=0;var r=u.exec(t.substring(i,i+3));return r?(n.L=+r[0],i+=r[0].length):-1}function iw(n,t,i){var r=eb.get(t.substring(i,i+=2).toLowerCase());return r==null?-1:(n.p=r,i)}function rw(n){var t=n.getTimezoneOffset(),i=t>0?"-":"+",r=~~(Math.abs(t)/60),u=Math.abs(t)%60;return i+s(r)+s(u)}function ef(n){return n.toISOString()}function d(n,t,i){function o(t){var i=n(t),r=e(i,1);return t-i<r-t?i:r}function f(i){return t(i=n(new r(i-1)),1),i}function e(n,i){return t(n=new r(+n),i),n}function s(n,r,u){var e=f(n),o=[];if(u>1)while(e<r)i(e)%u||o.push(new Date(+e)),t(e,1);else while(e<r)o.push(new Date(+e)),t(e,1);return o}function h(n,t,i){try{r=k;var u=new k;return u._=n,s(u,t,i)}finally{r=Date}}n.floor=n;n.round=o;n.ceil=f;n.offset=e;n.range=s;var u=n.utc=wi(n);return u.floor=u,u.round=wi(o),u.ceil=wi(f),u.offset=wi(e),u.range=h,n}function wi(n){return function(t,i){try{r=k;var u=new k;return u._=t,n(u,i)._}finally{r=Date}}}function of(n,t,i){function r(t){return n(t)}return r.invert=function(t){return sf(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain(t),r):n.domain().map(sf)},r.nice=function(n){return r.domain(oi(r.domain(),function(){return n}))},r.ticks=function(i,u){var e=uw(r.domain());if(typeof i!="function"){var s=e[1]-e[0],o=s/i,f=d3.bisect(yr,o);if(f==yr.length)return t.year(e,i);if(!f)return n.ticks(i).map(sf);Math.log(o/yr[f-1])<Math.log(yr[f]/o)&&--f;i=t[f];u=i[1];i=i[0].range}return i(e[0],new Date(+e[1]+1),u)},r.tickFormat=function(){return i},r.copy=function(){return of(n.copy(),t,i)},d3.rebind(r,n,"range","rangeRound","interpolate","clamp")}function uw(n){var t=n[0],i=n[n.length-1];return t<i?[t,i]:[i,t]}function sf(n){return new Date(n)}function dh(n){return function(t){for(var r=n.length-1,i=n[r];!i[1](t);)i=n[--r];return i[0](t)}}function hf(n){var t=new Date(n,0,1);return t.setFullYear(n),t}function fw(n){var t=n.getFullYear(),i=hf(t),r=hf(t+1);return t+(n-i)/(r-i)}function cf(n){var t=new Date(Date.UTC(n,0,1));return t.setUTCFullYear(n),t}function ew(n){var t=n.getUTCFullYear(),i=cf(t),r=cf(t+1);return t+(n-i)/(r-i)}var lf,gh,ut,bi,ft,nc,af,tc,ki,vf,rc,wt,bt,kt,di,gi,t,ot,p,wf,or,hc,w,cc,sr,bf,gt,kf,vc,hr,ni,df,gf,yc,pc,cr,n,ne,wc,bc,lr,r,te,ue;Date.now||(Date.now=function(){return+new Date});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(yb){lf=CSSStyleDeclaration.prototype;gh=lf.setProperty;lf.setProperty=function(n,t,i){gh.call(this,n,t+"",i)}}d3={version:"2.10.3"};ut=ol;try{ut(document.documentElement.childNodes)[0].nodeType}catch(pb){ut=el}bi=[].__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var i in t)n[i]=t[i]};d3.map=function(n){var t=new y;for(var i in n)t.set(i,n[i]);return t};fl(y,{has:function(n){return ft+n in this},get:function(n){return this[ft+n]},set:function(n,t){return this[ft+n]=t},remove:function(n){return n=ft+n,n in this&&delete this[n]},keys:function(){var n=[];return this.forEach(function(t){n.push(t)}),n},values:function(){var n=[];return this.forEach(function(t,i){n.push(i)}),n},entries:function(){var n=[];return this.forEach(function(t,i){n.push({key:t,value:i})}),n},forEach:function(n){for(var t in this)t.charCodeAt(0)===nc&&n.call(this,t.substring(1),this[t])}});ft="\0";nc=ft.charCodeAt(0);d3.functor=i;d3.rebind=function(n,t){for(var i=1,u=arguments.length,r;++i<u;)n[r=arguments[i]]=hl(n,t,t[r]);return n};d3.ascending=function(n,t){return n<t?-1:n>t?1:n>=t?0:NaN};d3.descending=function(n,t){return t<n?-1:t>n?1:t>=n?0:NaN};d3.mean=function(n,t){var e=n.length,u,i=0,r=-1,f=0;if(arguments.length===1)while(++r<e)pr(u=n[r])&&(i+=(u-i)/++f);else while(++r<e)pr(u=t.call(n,n[r],r))&&(i+=(u-i)/++f);return f?i:undefined};d3.median=function(n,t){return arguments.length>1&&(n=n.map(t)),n=n.filter(pr),n.length?d3.quantile(n.sort(d3.ascending),.5):undefined};d3.min=function(n,t){var r=-1,f=n.length,i,u;if(arguments.length===1){while(++r<f&&((i=n[r])==null||i!=i))i=undefined;while(++r<f)(u=n[r])!=null&&i>u&&(i=u)}else{while(++r<f&&((i=t.call(n,n[r],r))==null||i!=i))i=undefined;while(++r<f)(u=t.call(n,n[r],r))!=null&&i>u&&(i=u)}return i};d3.max=function(n,t){var r=-1,f=n.length,i,u;if(arguments.length===1){while(++r<f&&((i=n[r])==null||i!=i))i=undefined;while(++r<f)(u=n[r])!=null&&u>i&&(i=u)}else{while(++r<f&&((i=t.call(n,n[r],r))==null||i!=i))i=undefined;while(++r<f)(u=t.call(n,n[r],r))!=null&&u>i&&(i=u)}return i};d3.extent=function(n,t){var r=-1,e=n.length,i,u,f;if(arguments.length===1){while(++r<e&&((i=f=n[r])==null||i!=i))i=f=undefined;while(++r<e)(u=n[r])!=null&&(i>u&&(i=u),f<u&&(f=u))}else{while(++r<e&&((i=f=t.call(n,n[r],r))==null||i!=i))i=undefined;while(++r<e)(u=t.call(n,n[r],r))!=null&&(i>u&&(i=u),f<u&&(f=u))}return[i,f]};d3.random={normal:function(n,t){var i=arguments.length;return i<2&&(t=1),i<1&&(n=0),function(){var r,u,i;do r=Math.random()*2-1,u=Math.random()*2-1,i=r*r+u*u;while(!i||i>1);return n+t*r*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(n,t){var i=arguments.length,r;return i<2&&(t=1),i<1&&(n=0),r=d3.random.normal(),function(){return Math.exp(n+t*r())}},irwinHall:function(n){return function(){for(var t=0,i=0;i<n;i++)t+=Math.random();return t/n}}};d3.sum=function(n,t){var u=0,f=n.length,r,i=-1;if(arguments.length===1)while(++i<f)isNaN(r=+n[i])||(u+=r);else while(++i<f)isNaN(r=+t.call(n,n[i],i))||(u+=r);return u};d3.quantile=function(n,t){var u=(n.length-1)*t+1,i=Math.floor(u),r=n[i-1],f=u-i;return f?r+f*(n[i]-r):r};d3.transpose=function(n){return d3.zip.apply(d3,n)};d3.zip=function(){var n,i,f;if(!(i=arguments.length))return[];for(var t=-1,r=d3.min(arguments,cl),u=new Array(r);++t<r;)for(n=-1,f=u[t]=new Array(i);++n<i;)f[n]=arguments[n][t];return u};d3.bisector=function(n){return{left:function(t,i,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);r<u;){var f=r+u>>>1;n.call(t,t[f],f)<i?r=f+1:u=f}return r},right:function(t,i,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);r<u;){var f=r+u>>>1;i<n.call(t,t[f],f)?u=f:r=f+1}return r}}};af=d3.bisector(function(n){return n});d3.bisectLeft=af.left;d3.bisect=d3.bisectRight=af.right;d3.first=function(n,t){var r=0,f=n.length,i=n[0],u;for(arguments.length===1&&(t=d3.ascending);++r<f;)t.call(n,i,u=n[r])>0&&(i=u);return i};d3.last=function(n,t){var r=0,f=n.length,i=n[0],u;for(arguments.length===1&&(t=d3.ascending);++r<f;)t.call(n,i,u=n[r])<=0&&(i=u);return i};d3.nest=function(){function i(f,e){if(e>=t.length)return u?u.call(n,f):r?f.sort(r):f;for(var h=-1,v=f.length,p=t[e++],c,o,s=new y,l,a={};++h<v;)(l=s.get(c=p(o=f[h])))?l.push(o):s.set(c,[o]);return s.forEach(function(n,t){a[n]=i(t,e)}),a}function f(n,i){if(i>=t.length)return n;var r=[],u=e[i++];for(var o in n)r.push({key:o,values:f(n[o],i)});return u&&r.sort(function(n,t){return u(n.key,t.key)}),r}var n={},t=[],e=[],r,u;return n.map=function(n){return i(n,0)},n.entries=function(n){return f(i(n,0),0)},n.key=function(i){return t.push(i),n},n.sortKeys=function(i){return e[t.length-1]=i,n},n.sortValues=function(t){return r=t,n},n.rollup=function(t){return u=t,n},n};d3.keys=function(n){var t=[];for(var i in n)t.push(i);return t};d3.values=function(n){var t=[];for(var i in n)t.push(n[i]);return t};d3.entries=function(n){var t=[];for(var i in n)t.push({key:i,value:n[i]});return t};d3.permute=function(n,t){for(var r=[],i=-1,u=t.length;++i<u;)r[i]=n[t[i]];return r};d3.merge=function(n){return Array.prototype.concat.apply([],n)};d3.split=function(n,t){var u=[],i=[],f,r=-1,e=n.length;for(arguments.length<2&&(t=ll);++r<e;)t.call(i,f=n[r],r)?i=[]:(i.length||u.push(i),i.push(f));return u};d3.range=function(n,t,i){if(arguments.length<3&&(i=1,arguments.length<2&&(t=n,n=0)),(t-n)/i==Infinity)throw new Error("infinite range");var f=[],r=al(Math.abs(i)),e=-1,u;if(n*=r,t*=r,i*=r,i<0)while((u=n+i*++e)>t)f.push(u/r);else while((u=n+i*++e)<t)f.push(u/r);return f};d3.requote=function(n){return n.replace(tc,"\\$&")};tc=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};d3.xhr=function(n,t,i){var r=new XMLHttpRequest;arguments.length<3?(i=t,t=null):t&&r.overrideMimeType&&r.overrideMimeType(t);r.open("GET",n,!0);t&&r.setRequestHeader("Accept",t);r.onreadystatechange=function(){if(r.readyState===4){var n=r.status;i(!n&&r.response||n>=200&&n<300||n===304?r:null)}};r.send(null)};d3.text=function(n,t,i){function r(n){i(n&&n.responseText)}arguments.length<3&&(i=t,t=null);d3.xhr(n,t,r)};d3.json=function(n,t){d3.text(n,"application/json",function(n){t(n?JSON.parse(n):null)})};d3.html=function(n,t){d3.text(n,"text/html",function(n){if(n!=null){var i=document.createRange();i.selectNode(document.body);n=i.createContextualFragment(n)}t(n)})};d3.xml=function(n,t,i){function r(n){i(n&&n.responseXML)}arguments.length<3&&(i=t,t=null);d3.xhr(n,t,r)};ki={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:ki,qualify:function(n){var t=n.indexOf(":"),i=n;return t>=0&&(i=n.substring(0,t),n=n.substring(t+1)),ki.hasOwnProperty(i)?{space:ki[i],local:n}:n}};d3.dispatch=function(){for(var n=new wr,t=-1,i=arguments.length;++t<i;)n[arguments[t]]=se(n);return n};wr.prototype.on=function(n,t){var i=n.indexOf("."),r="";return i>0&&(r=n.substring(i+1),n=n.substring(0,i)),arguments.length<2?this[n].on(r):this[n].on(r,t)};d3.format=function(n){var i=ow.exec(n),s=i[1]||" ",l=i[3]||"",h=i[5],u=+i[6],e=i[7],r=i[8],t=i[9],f=1,o="",c=!1;r&&(r=+r.substring(1));h&&(s="0",e&&(u-=Math.floor((u-1)/4)));switch(t){case"n":e=!0;t="g";break;case"%":f=100;o="%";t="f";break;case"p":f=100;o="%";t="r";break;case"d":c=!0;r=0;break;case"s":f=-1;t="r"}return t!="r"||r||(t="g"),t=sw.get(t)||vl,function(n){var a,v,i;return c&&n%1?"":(a=n<0&&(n=-n)?"-":l,f<0?(v=d3.formatPrefix(n,r),n=v.scale(n),o=v.symbol):n*=f,n=t(n,r),h?(i=n.length+a.length,i<u&&(n=new Array(u-i+1).join(s)+n),e&&(n=ce(n)),n=a+n):(e&&(n=ce(n)),n=a+n,i=n.length,i<u&&(n=new Array(u-i+1).join(s)+n)),n+o)}};var ow=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,sw=d3.map({g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return d3.round(n,t=he(n,t)).toFixed(Math.max(0,Math.min(20,t)))}}),hw=["y","z","a","f","p","n","Î¼","m","","k","M","G","T","P","E","Z","Y"].map(yl);d3.formatPrefix=function(n,t){var i=0;return n&&(n<0&&(n*=-1),t&&(n=d3.round(n,he(n,t))),i=1+Math.floor(1e-12+Math.log(n)/Math.LN10),i=Math.max(-24,Math.min(24,Math.floor((i<=0?i+1:i-1)/3)*3))),hw[8+i/3]};var cw=kr(2),lw=kr(3),ic=function(){return br},aw=d3.map({linear:ic,poly:kr,quad:function(){return cw},cubic:function(){return lw},sin:function(){return wl},exp:function(){return bl},circle:function(){return kl},elastic:dl,back:gl,bounce:function(){return na}}),vw=d3.map({"in":br,out:le,"in-out":ae,"out-in":function(n){return ae(le(n))}});d3.ease=function(n){var t=n.indexOf("-"),i=t>=0?n.substring(0,t):n,r=t>=0?n.substring(t+1):"in";return i=aw.get(i)||ic,r=vw.get(r)||br,pl(r(i.apply(null,Array.prototype.slice.call(arguments,1))))};d3.event=null;d3.transform=function(n){var t=document.createElementNS(d3.ns.prefix.svg,"g");return(d3.transform=function(n){t.setAttribute("transform",n);var i=t.transform.baseVal.consolidate();return new ye(i?i.matrix:rc)})(n)};ye.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};vf=180/Math.PI;rc={a:1,b:0,c:0,d:1,e:0,f:0};d3.interpolate=function(n,t){for(var i=d3.interpolators.length,r;--i>=0&&!(r=d3.interpolators[i](n,t)););return r};d3.interpolateNumber=function(n,t){return t-=n,function(i){return n+t*i}};d3.interpolateRound=function(n,t){return t-=n,function(i){return Math.round(n+t*i)}};d3.interpolateString=function(n,t){var s,u,f,h=0,c=0,r=[],e=[],o,i;for(wt.lastIndex=0,u=0;s=wt.exec(t);++u)s.index&&r.push(t.substring(h,c=s.index)),e.push({i:r.length,x:s[0]}),r.push(null),h=wt.lastIndex;for(h<t.length&&r.push(t.substring(h)),u=0,o=e.length;(s=wt.exec(n))&&u<o;++u)if(i=e[u],i.x==s[0]){if(i.i)if(r[i.i+1]==null)for(r[i.i-1]+=i.x,r.splice(i.i,1),f=u+1;f<o;++f)e[f].i--;else for(r[i.i-1]+=i.x+r[i.i+1],r.splice(i.i,2),f=u+1;f<o;++f)e[f].i-=2;else if(r[i.i+1]==null)r[i.i]=i.x;else for(r[i.i]=i.x+r[i.i+1],r.splice(i.i+1,1),f=u+1;f<o;++f)e[f].i--;e.splice(u,1);o--;u--}else i.x=d3.interpolateNumber(parseFloat(s[0]),parseFloat(i.x));while(u<o)i=e.pop(),r[i.i+1]==null?r[i.i]=i.x:(r[i.i]=i.x+r[i.i+1],r.splice(i.i+1,1)),o--;return r.length===1?r[0]==null?e[0].x:function(){return t}:function(n){for(u=0;u<o;++u)r[(i=e[u]).i]=i.x(n);return r.join("")}};d3.interpolateTransform=function(n,t){var i=[],e=[],o,h=d3.transform(n),c=d3.transform(t),l=h.translate,r=c.translate,s=h.rotate,u=c.rotate,y=h.skew,a=c.skew,v=h.scale,f=c.scale;return l[0]!=r[0]||l[1]!=r[1]?(i.push("translate(",null,",",null,")"),e.push({i:1,x:d3.interpolateNumber(l[0],r[0])},{i:3,x:d3.interpolateNumber(l[1],r[1])})):r[0]||r[1]?i.push("translate("+r+")"):i.push(""),s!=u?(s-u>180?u+=360:u-s>180&&(s+=360),e.push({i:i.push(i.pop()+"rotate(",null,")")-2,x:d3.interpolateNumber(s,u)})):u&&i.push(i.pop()+"rotate("+u+")"),y!=a?e.push({i:i.push(i.pop()+"skewX(",null,")")-2,x:d3.interpolateNumber(y,a)}):a&&i.push(i.pop()+"skewX("+a+")"),v[0]!=f[0]||v[1]!=f[1]?(o=i.push(i.pop()+"scale(",null,",",null,")"),e.push({i:o-4,x:d3.interpolateNumber(v[0],f[0])},{i:o-2,x:d3.interpolateNumber(v[1],f[1])})):(f[0]!=1||f[1]!=1)&&i.push(i.pop()+"scale("+f+")"),o=e.length,function(n){for(var t=-1,r;++t<o;)i[(r=e[t]).i]=r.x(n);return i.join("")}};d3.interpolateRgb=function(n,t){n=d3.rgb(n);t=d3.rgb(t);var i=n.r,r=n.g,u=n.b,f=t.r-i,e=t.g-r,o=t.b-u;return function(n){return"#"+tt(Math.round(i+f*n))+tt(Math.round(r+e*n))+tt(Math.round(u+o*n))}};d3.interpolateHsl=function(n,t){n=d3.hsl(n);t=d3.hsl(t);var r=n.h,u=n.s,f=n.l,i=t.h-r,e=t.s-u,o=t.l-f;return i>180?i-=360:i<-180&&(i+=360),function(n){return ti(r+i*n,u+e*n,f+o*n)+""}};d3.interpolateLab=function(n,t){n=d3.lab(n);t=d3.lab(t);var i=n.l,r=n.a,u=n.b,f=t.l-i,e=t.a-r,o=t.b-u;return function(n){return ge(i+f*n,r+e*n,u+o*n)+""}};d3.interpolateHcl=function(n,t){n=d3.hcl(n);t=d3.hcl(t);var r=n.h,u=n.c,f=n.l,i=t.h-r,e=t.c-u,o=t.l-f;return i>180?i-=360:i<-180&&(i+=360),function(n){return uu(r+i*n,u+e*n,f+o*n)+""}};d3.interpolateArray=function(n,t){for(var u=[],r=[],e=n.length,o=t.length,f=Math.min(n.length,t.length),i=0;i<f;++i)u.push(d3.interpolate(n[i],t[i]));for(;i<e;++i)r[i]=n[i];for(;i<o;++i)r[i]=t[i];return function(n){for(i=0;i<f;++i)r[i]=u[i](n);return r}};d3.interpolateObject=function(n,t){var u={},r={};for(var i in n)i in t?u[i]=be(i)(n[i],t[i]):r[i]=n[i];for(i in t)i in n||(r[i]=t[i]);return function(n){for(i in u)r[i]=u[i](n);return r}};wt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;d3.interpolators=[d3.interpolateObject,function(n,t){return t instanceof Array&&d3.interpolateArray(n,t)},function(n,t){return(typeof n=="string"||typeof t=="string")&&d3.interpolateString(n+"",t+"")},function(n,t){return(typeof t=="string"?kt.has(t)||/^(#|rgb\(|hsl\()/.test(t):t instanceof nt)&&d3.interpolateRgb(n,t)},function(n,t){return!isNaN(n=+n)&&!isNaN(t=+t)&&d3.interpolateNumber(n,t)}];nt.prototype.toString=function(){return this.rgb()+""};d3.rgb=function(n,t,i){return arguments.length===1?n instanceof gr?c(n.r,n.g,n.b):nu(""+n,c,ti):c(~~n,~~t,~~i)};bt=gr.prototype=new nt;bt.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var i=this.r,r=this.g,u=this.b,t=30;return!i&&!r&&!u?c(t,t,t):(i&&i<t&&(i=t),r&&r<t&&(r=t),u&&u<t&&(u=t),c(Math.min(255,Math.floor(i/n)),Math.min(255,Math.floor(r/n)),Math.min(255,Math.floor(u/n))))};bt.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),c(Math.floor(n*this.r),Math.floor(n*this.g),Math.floor(n*this.b))};bt.hsl=function(){return ke(this.r,this.g,this.b)};bt.toString=function(){return"#"+tt(this.r)+tt(this.g)+tt(this.b)};kt=d3.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});kt.forEach(function(n,t){kt.set(n,nu(t,c,ti))});d3.hsl=function(n,t,i){return arguments.length===1?n instanceof ru?it(n.h,n.s,n.l):nu(""+n,ke,it):it(+n,+t,+i)};di=ru.prototype=new nt;di.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),it(this.h,this.s,this.l/n)};di.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),it(this.h,this.s,n*this.l)};di.rgb=function(){return ti(this.h,this.s,this.l)};d3.hcl=function(n,t,i){return arguments.length===1?n instanceof ii?ct(n.h,n.c,n.l):n instanceof ri?no(n.l,n.a,n.b):no((n=de((n=d3.rgb(n)).r,n.g,n.b)).l,n.a,n.b):ct(+n,+t,+i)};gi=ii.prototype=new nt;gi.brighter=function(n){return ct(this.h,this.c,Math.min(100,this.l+nr*(arguments.length?n:1)))};gi.darker=function(n){return ct(this.h,this.c,Math.max(0,this.l-nr*(arguments.length?n:1)))};gi.rgb=function(){return uu(this.h,this.c,this.l).rgb()};d3.lab=function(n,t,i){return arguments.length===1?n instanceof ri?rt(n.l,n.a,n.b):n instanceof ii?uu(n.l,n.c,n.h):de((n=d3.rgb(n)).r,n.g,n.b):rt(+n,+t,+i)};var nr=18,uc=.95047,fc=1,ec=1.08883,yf=ri.prototype=new nt;yf.brighter=function(n){return rt(Math.min(100,this.l+nr*(arguments.length?n:1)),this.a,this.b)};yf.darker=function(n){return rt(Math.max(0,this.l-nr*(arguments.length?n:1)),this.a,this.b)};yf.rgb=function(){return ge(this.l,this.a,this.b)};var tr=function(n,t){return t.querySelector(n)},oc=function(n,t){return t.querySelectorAll(n)},et=document.documentElement,yw=et.matchesSelector||et.webkitMatchesSelector||et.mozMatchesSelector||et.msMatchesSelector||et.oMatchesSelector,sc=function(n,t){return yw.call(n,t)};typeof Sizzle=="function"&&(tr=function(n,t){return Sizzle(n,t)[0]||null},oc=function(n,t){return Sizzle.uniqueSort(Sizzle(n,t))},sc=Sizzle.matchesSelector);t=[];d3.selection=function(){return ot};d3.selection.prototype=t;t.select=function(n){var o=[],i,u,f,t,e,s,r,h;for(typeof n!="function"&&(n=to(n)),e=-1,s=this.length;++e<s;)for(o.push(i=[]),i.parentNode=(f=this[e]).parentNode,r=-1,h=f.length;++r<h;)(t=f[r])?(i.push(u=n.call(t,t.__data__,r)),u&&"__data__"in t&&(u.__data__=t.__data__)):i.push(null);return l(o)};t.selectAll=function(n){var u=[],f,t,i,e;for(typeof n!="function"&&(n=io(n)),i=-1,e=this.length;++i<e;)for(var o=this[i],r=-1,s=o.length;++r<s;)(t=o[r])&&(u.push(f=ut(n.call(t,t.__data__,r))),f.parentNode=t);return l(u)};t.attr=function(n,t){if(arguments.length<2){if(typeof n=="string"){var i=this.node();return n=d3.ns.qualify(n),n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}for(t in n)this.each(ro(t,n[t]));return this}return this.each(ro(n,t))};t.classed=function(n,t){if(arguments.length<2){if(typeof n=="string"){var r=this.node(),u=(n=n.trim().split(/^|\s+/g)).length,i=-1;if(t=r.classList){while(++i<u)if(!t.contains(n[i]))return!1}else for(t=r.className,t.baseVal!=null&&(t=t.baseVal);++i<u;)if(!uo(n[i]).test(t))return!1;return!0}for(t in n)this.each(fo(t,n[t]));return this}return this.each(fo(n,t))};t.style=function(n,t,i){var r=arguments.length;if(r<3){if(typeof n!="string"){r<2&&(t="");for(i in n)this.each(eo(i,n[i],t));return this}if(r<2)return window.getComputedStyle(this.node(),null).getPropertyValue(n);i=""}return this.each(eo(n,t,i))};t.property=function(n,t){if(arguments.length<2){if(typeof n=="string")return this.node()[n];for(t in n)this.each(oo(t,n[t]));return this}return this.each(oo(n,t))};t.text=function(n){return arguments.length<1?this.node().textContent:this.each(typeof n=="function"?function(){var t=n.apply(this,arguments);this.textContent=t==null?"":t}:n==null?function(){this.textContent=""}:function(){this.textContent=n})};t.html=function(n){return arguments.length<1?this.node().innerHTML:this.each(typeof n=="function"?function(){var t=n.apply(this,arguments);this.innerHTML=t==null?"":t}:n==null?function(){this.innerHTML=""}:function(){this.innerHTML=n})};t.append=function(n){function t(){return this.appendChild(document.createElementNS(this.namespaceURI,n))}function i(){return this.appendChild(document.createElementNS(n.space,n.local))}return n=d3.ns.qualify(n),this.select(n.local?i:t)};t.insert=function(n,t){function i(){return this.insertBefore(document.createElementNS(this.namespaceURI,n),tr(t,this))}function r(){return this.insertBefore(document.createElementNS(n.space,n.local),tr(t,this))}return n=d3.ns.qualify(n),this.select(n.local?r:i)};t.remove=function(){return this.each(function(){var n=this.parentNode;n&&n.removeChild(this)})};t.data=function(n,t){function e(n,i){var r,p=n.length,w=i.length,k=Math.min(p,w),d=Math.max(p,w),o=[],c=[],u=[],e,a;if(t){var v=new y,b=[],l,g=i.length;for(r=-1;++r<p;)l=t.call(e=n[r],e.__data__,r),v.has(l)?u[g++]=e:v.set(l,e),b.push(l);for(r=-1;++r<w;)l=t.call(i,a=i[r],r),v.has(l)?(o[r]=e=v.get(l),e.__data__=a,c[r]=u[r]=null):(c[r]=su(a),o[r]=u[r]=null),v.remove(l);for(r=-1;++r<p;)v.has(b[r])&&(u[r]=n[r])}else{for(r=-1;++r<k;)e=n[r],a=i[r],e?(e.__data__=a,o[r]=e,c[r]=u[r]=null):(c[r]=su(a),o[r]=u[r]=null);for(;r<w;++r)c[r]=su(i[r]),o[r]=u[r]=null;for(;r<d;++r)u[r]=n[r],c[r]=o[r]=null}c.update=o;c.parentNode=o.parentNode=u.parentNode=n.parentNode;s.push(c);f.push(o);h.push(u)}var i=-1,u=this.length,r,o;if(!arguments.length){for(n=new Array(u=(r=this[0]).length);++i<u;)(o=r[i])&&(n[i]=o.__data__);return n}var s=co([]),f=l([]),h=l([]);if(typeof n=="function")while(++i<u)e(r=this[i],n.call(r,r.parentNode.__data__,i));else while(++i<u)e(r=this[i],n);return f.enter=function(){return s},f.exit=function(){return h},f};t.datum=t.map=function(n){return arguments.length<1?this.property("__data__"):this.property("__data__",n)};t.filter=function(n){var e=[],u,f,i,r,o,t,s;for(typeof n!="function"&&(n=so(n)),r=0,o=this.length;r<o;r++)for(e.push(u=[]),u.parentNode=(f=this[r]).parentNode,t=0,s=f.length;t<s;t++)(i=f[t])&&n.call(i,i.__data__,t)&&u.push(i);return l(e)};t.order=function(){for(var i=-1,f=this.length;++i<f;)for(var r=this[i],u=r.length-1,n=r[u],t;--u>=0;)(t=r[u])&&(n&&n!==t.nextSibling&&n.parentNode.insertBefore(t,n),n=t);return this};t.sort=function(n){n=fa.apply(this,arguments);for(var t=-1,i=this.length;++t<i;)this[t].sort(n);return this.order()};t.on=function(n,t,i){var r=arguments.length;if(r<3){if(typeof n!="string"){r<2&&(t=!1);for(i in n)this.each(ho(i,n[i],t));return this}if(r<2)return(r=this.node()["__on"+n])&&r._;i=!1}return this.each(ho(n,t,i))};t.each=function(n){return lt(this,function(t,i,r){n.call(t,t.__data__,i,r)})};t.call=function(n){return n.apply(this,(arguments[0]=this,arguments)),this};t.empty=function(){return!this.node()};t.node=function(){for(var i,n=0,r=this.length;n<r;n++)for(var u=this[n],t=0,f=u.length;t<f;t++)if(i=u[t],i)return i;return null};t.transition=function(){for(var n=[],t,i,r=-1,e=this.length;++r<e;){n.push(t=[]);for(var u=this[r],f=-1,o=u.length;++f<o;)t.push((i=u[f])?{node:i,delay:ir,duration:rr}:null)}return ui(n,g||++pw,Date.now())};ot=l([[document]]);ot[0].parentNode=et;d3.select=function(n){return typeof n=="string"?ot.select(n):l([[n]])};d3.selectAll=function(n){return typeof n=="string"?ot.selectAll(n):l([ut(n)])};p=[];d3.selection.enter=co;d3.selection.enter.prototype=p;p.append=t.append;p.insert=t.insert;p.empty=t.empty;p.node=t.node;p.select=function(n){for(var i,h,f=[],r,e,o,t,u,s=-1,c=this.length;++s<c;)for(o=(t=this[s]).update,f.push(r=[]),r.parentNode=t.parentNode,i=-1,h=t.length;++i<h;)(u=t[i])?(r.push(o[i]=e=n.call(t.parentNode,u.__data__,i)),e.__data__=u.__data__):r.push(null);return l(f)};var f=[],pw=0,g=0,ww=d3.ease("cubic-in-out"),ir=0,rr=250,ur=ww;f.call=t.call;d3.transition=function(n){return arguments.length?g?n.transition():n:ot.transition()};d3.transition.prototype=f;f.select=function(n){var e=[],i,r,t,u,o;for(typeof n!="function"&&(n=to(n)),u=-1,o=this.length;++u<o;){e.push(i=[]);for(var s=this[u],f=-1,h=s.length;++f<h;)(t=s[f])&&(r=n.call(t.node,t.node.__data__,f))?("__data__"in t.node&&(r.__data__=t.node.__data__),i.push({node:r,delay:t.delay,duration:t.duration})):i.push(null)}return ui(e,this.id,this.time).ease(this.ease())};f.selectAll=function(n){var e=[],o,i,t,r,s,f,c;for(typeof n!="function"&&(n=io(n)),r=-1,s=this.length;++r<s;)for(var h=this[r],u=-1,l=h.length;++u<l;)if(t=h[u])for(i=n.call(t.node,t.node.__data__,u),e.push(o=[]),f=-1,c=i.length;++f<c;)o.push({node:i[f],delay:t.delay,duration:t.duration});return ui(e,this.id,this.time).ease(this.ease())};f.filter=function(n){var u=[],f,e,t,i,o;for(typeof n!="function"&&(n=so(n)),i=0,o=this.length;i<o;i++){u.push(f=[]);for(var e=this[i],r=0,s=e.length;r<s;r++)(t=e[r])&&n.call(t.node,t.node.__data__,r)&&f.push(t)}return ui(u,this.id,this.time).ease(this.ease())};f.attr=function(n,t){if(arguments.length<2){for(t in n)this.attrTween(t,fi(n[t],t));return this}return this.attrTween(n,fi(t,n))};f.attrTween=function(n,t){function r(n,r){var u=t.call(this,n,r,this.getAttribute(i));return u===dt?(this.removeAttribute(i),null):u&&function(n){this.setAttribute(i,u(n))}}function u(n,r){var u=t.call(this,n,r,this.getAttributeNS(i.space,i.local));return u===dt?(this.removeAttributeNS(i.space,i.local),null):u&&function(n){this.setAttributeNS(i.space,i.local,u(n))}}var i=d3.ns.qualify(n);return this.tween("attr."+n,i.local?u:r)};f.style=function(n,t,i){var r=arguments.length;if(r<3){if(typeof n!="string"){r<2&&(t="");for(i in n)this.styleTween(i,fi(n[i],i),t);return this}i=""}return this.styleTween(n,fi(t,n),i)};f.styleTween=function(n,t,i){return arguments.length<3&&(i=""),this.tween("style."+n,function(r,u){var f=t.call(this,r,u,window.getComputedStyle(this,null).getPropertyValue(n));return f===dt?(this.style.removeProperty(n),null):f&&function(t){this.style.setProperty(n,f(t),i)}})};f.text=function(n){return this.tween("text",function(t,i){this.textContent=typeof n=="function"?n.call(this,t,i):n})};f.remove=function(){return this.each("end.transition",function(){var n;!this.__transition__&&(n=this.parentNode)&&n.removeChild(this)})};f.delay=function(n){return lt(this,typeof n=="function"?function(t,i,r){t.delay=n.call(t=t.node,t.__data__,i,r)|0}:(n=n|0,function(t){t.delay=n}))};f.duration=function(n){return lt(this,typeof n=="function"?function(t,i,r){t.duration=Math.max(1,n.call(t=t.node,t.__data__,i,r)|0)}:(n=Math.max(1,n|0),function(t){t.duration=n}))};f.transition=function(){return this.select(sl)};d3.tween=function(n,t){function i(i,r,u){var f=n.call(this,i,r);return f==null?u!=""&&dt:u!=f&&t(u,f+"")}function r(i,r,u){return u!=n&&t(u,n)}return typeof n=="function"?i:n==null?oa:(n+="",r)};var dt={},bw=0,pf={},st=null,fr,er;d3.timer=function(n,t,i){if(arguments.length<3){if(arguments.length<2)t=0;else if(!isFinite(t))return;i=Date.now()}var r=pf[n.id];r&&r.callback===n?(r.then=i,r.delay=t):pf[n.id=++bw]=st={callback:n,then:i,delay:t,next:st};fr||(er=clearTimeout(er),fr=1,wf(hu))};d3.timer.flush=function(){for(var t,i=Date.now(),n=st;n;)t=i-n.then,n.delay||(n.flush=n.callback(t)),n=n.next;lo()};wf=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){setTimeout(n,17)};d3.mouse=function(n){return ao(n,ve())};or=/WebKit/.test(navigator.userAgent)?-1:0;d3.touches=function(n,t){return arguments.length<2&&(t=ve().touches),t?ut(t).map(function(t){var i=ao(n,t);return i.identifier=t.identifier,i}):[]};d3.scale={};d3.scale.linear=function(){return vo([0,1],[0,1],d3.interpolate,!1)};d3.scale.log=function(){return bo(d3.scale.linear(),au)};hc=d3.format(".0e");au.pow=function(n){return Math.pow(10,n)};si.pow=function(n){return-Math.pow(10,-n)};d3.scale.pow=function(){return ko(d3.scale.linear(),1)};d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)};d3.scale.ordinal=function(){return go([],{t:"range",a:[[]]})};d3.scale.category10=function(){return d3.scale.ordinal().range(kw)};d3.scale.category20=function(){return d3.scale.ordinal().range(dw)};d3.scale.category20b=function(){return d3.scale.ordinal().range(gw)};d3.scale.category20c=function(){return d3.scale.ordinal().range(nb)};var kw=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],dw=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],gw=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],nb=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];d3.scale.quantile=function(){return ns([],[])};d3.scale.quantize=function(){return ts(0,1,[0,1])};d3.scale.threshold=function(){return is([.5],[0,1])};d3.scale.identity=function(){return rs([0,1])};d3.svg={};d3.svg.arc=function(){function n(){var i=t.apply(this,arguments),n=r.apply(this,arguments),e=u.apply(this,arguments)+w,o=f.apply(this,arguments)+w,s=(o<e&&(s=e,e=o,o=s),o-e),h=s<Math.PI?"0":"1",c=Math.cos(e),l=Math.sin(e),a=Math.cos(o),v=Math.sin(o);return s>=cc?i?"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"M0,"+i+"A"+i+","+i+" 0 1,0 0,"+-i+"A"+i+","+i+" 0 1,0 0,"+i+"Z":"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z":i?"M"+n*c+","+n*l+"A"+n+","+n+" 0 "+h+",1 "+n*a+","+n*v+"L"+i*a+","+i*v+"A"+i+","+i+" 0 "+h+",0 "+i*c+","+i*l+"Z":"M"+n*c+","+n*l+"A"+n+","+n+" 0 "+h+",1 "+n*a+","+n*v+"L0,0Z"}var t=la,r=aa,u=us,f=fs;return n.innerRadius=function(r){return arguments.length?(t=i(r),n):t},n.outerRadius=function(t){return arguments.length?(r=i(t),n):r},n.startAngle=function(t){return arguments.length?(u=i(t),n):u},n.endAngle=function(t){return arguments.length?(f=i(t),n):f},n.centroid=function(){var n=(t.apply(this,arguments)+r.apply(this,arguments))/2,i=(u.apply(this,arguments)+f.apply(this,arguments))/2+w;return[Math.cos(i)*n,Math.sin(i)*n]},n};w=-Math.PI/2;cc=2*Math.PI-1e-6;d3.svg.line=function(){return es(b)};sr=d3.map({linear:e,"linear-closed":va,"step-before":yu,"step-after":pu,basis:ss,"basis-open":ba,"basis-closed":ka,bundle:da,cardinal:wa,"cardinal-open":ya,"cardinal-closed":pa,monotone:tv});sr.forEach(function(n,t){t.key=n;t.closed=/-closed$/.test(n)});var lc=[0,2/3,1/3,0],ac=[0,1/3,2/3,0],ht=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var n=es(hs);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n};yu.reverse=pu;pu.reverse=yu;d3.svg.area=function(){return cs(b)};d3.svg.area.radial=function(){var n=cs(hs);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n};d3.svg.chord=function(){function n(n,i){var f=s(this,r,n,i),e=s(this,u,n,i);return"M"+f.p0+h(f.r,f.p1,f.a1-f.a0)+(c(f,e)?t(f.r,f.p1,f.r,f.p0):t(f.r,f.p1,e.r,e.p0)+h(e.r,e.p1,e.a1-e.a0)+t(e.r,e.p1,f.r,f.p0))+"Z"}function s(n,t,i,r){var s=t.call(n,i,r),u=f.call(n,s,r),h=e.call(n,s,r)+w,c=o.call(n,s,r)+w;return{r:u,a0:h,a1:c,p0:[u*Math.cos(h),u*Math.sin(h)],p1:[u*Math.cos(c),u*Math.sin(c)]}}function c(n,t){return n.a0==t.a0&&n.a1==t.a1}function h(n,t,i){return"A"+n+","+n+" 0 "+ +(i>Math.PI)+",1 "+t}function t(n,t,i,r){return"Q 0,0 "+r}var r=ls,u=as,f=iv,e=us,o=fs;return n.radius=function(t){return arguments.length?(f=i(t),n):f},n.source=function(t){return arguments.length?(r=i(t),n):r},n.target=function(t){return arguments.length?(u=i(t),n):u},n.startAngle=function(t){return arguments.length?(e=i(t),n):e},n.endAngle=function(t){return arguments.length?(o=i(t),n):o},n};d3.svg.diagonal=function(){function n(n,i){var e=t.call(this,n,i),o=r.call(this,n,i),s=(e.y+o.y)/2,f=[e,{x:e.x,y:s},{x:o.x,y:s},o];return f=f.map(u),"M"+f[0]+"C"+f[1]+" "+f[2]+" "+f[3]}var t=ls,r=as,u=vs;return n.source=function(r){return arguments.length?(t=i(r),n):t},n.target=function(t){return arguments.length?(r=i(t),n):r},n.projection=function(t){return arguments.length?(u=t,n):u},n};d3.svg.diagonal.radial=function(){var n=d3.svg.diagonal(),t=vs,i=n.projection;return n.projection=function(n){return arguments.length?i(rv(t=n)):t},n};d3.svg.mouse=d3.mouse;d3.svg.touches=d3.touches;d3.svg.symbol=function(){function n(n,i){return(bf.get(t.call(this,n,i))||ys)(r.call(this,n,i))}var t=fv,r=uv;return n.type=function(r){return arguments.length?(t=i(r),n):t},n.size=function(t){return arguments.length?(r=i(t),n):r},n};bf=d3.map({circle:ys,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*kf)),i=t*kf;return"M0,"+-t+"L"+i+",0 0,"+t+" "+-i+",0Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/gt),i=t*gt/2;return"M0,"+i+"L"+t+","+-i+" "+-t+","+-i+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/gt),i=t*gt/2;return"M0,"+-i+"L"+t+","+i+" "+-t+","+i+"Z"}});d3.svg.symbolTypes=bf.keys();gt=Math.sqrt(3);kf=Math.tan(Math.PI/6);d3.svg.axis=function(){function t(t){t.each(function(){var rt=d3.select(this),et=o==null?i.ticks?i.ticks.apply(i,e):i.domain():o,ct=s==null?i.tickFormat?i.tickFormat.apply(i,e):String:s,lt=ev(i,et,c),ut=rt.selectAll(".minor").data(lt,String),y=ut.enter().insert("line","g").attr("class","tick minor").style("opacity",1e-6),at=d3.transition(ut.exit()).style("opacity",1e-6).remove(),p=d3.transition(ut).style("opacity",1),w=rt.selectAll("g").data(et,String),v=w.enter().insert("g","path").style("opacity",1e-6),vt=d3.transition(w.exit()).style("opacity",1e-6).remove(),b=d3.transition(w).style("opacity",1),t,l=ei(i),ot=rt.selectAll(".domain").data([0]),yt=ot.enter().append("path").attr("class","domain"),k=d3.transition(ot),a=i.copy(),st=this.__chart__||a,ht,ft;this.__chart__=a;v.append("line").attr("class","tick");v.append("text");var d=v.select("line"),g=b.select("line"),nt=w.select("text").text(ct),tt=v.select("text"),it=b.select("text");switch(h){case"bottom":t=ps;y.attr("y2",u);p.attr("x2",0).attr("y2",u);d.attr("y2",n);tt.attr("y",Math.max(n,0)+r);g.attr("x2",0).attr("y2",n);it.attr("x",0).attr("y",Math.max(n,0)+r);nt.attr("dy",".71em").attr("text-anchor","middle");k.attr("d","M"+l[0]+","+f+"V0H"+l[1]+"V"+f);break;case"top":t=ps;y.attr("y2",-u);p.attr("x2",0).attr("y2",-u);d.attr("y2",-n);tt.attr("y",-(Math.max(n,0)+r));g.attr("x2",0).attr("y2",-n);it.attr("x",0).attr("y",-(Math.max(n,0)+r));nt.attr("dy","0em").attr("text-anchor","middle");k.attr("d","M"+l[0]+","+-f+"V0H"+l[1]+"V"+-f);break;case"left":t=ws;y.attr("x2",-u);p.attr("x2",-u).attr("y2",0);d.attr("x2",-n);tt.attr("x",-(Math.max(n,0)+r));g.attr("x2",-n).attr("y2",0);it.attr("x",-(Math.max(n,0)+r)).attr("y",0);nt.attr("dy",".32em").attr("text-anchor","end");k.attr("d","M"+-f+","+l[0]+"H0V"+l[1]+"H"+-f);break;case"right":t=ws;y.attr("x2",u);p.attr("x2",u).attr("y2",0);d.attr("x2",n);tt.attr("x",Math.max(n,0)+r);g.attr("x2",n).attr("y2",0);it.attr("x",Math.max(n,0)+r).attr("y",0);nt.attr("dy",".32em").attr("text-anchor","start");k.attr("d","M"+f+","+l[0]+"H0V"+l[1]+"H"+f)}i.ticks?(v.call(t,st),b.call(t,a),vt.call(t,a),y.call(t,st),p.call(t,a),at.call(t,a)):(ht=a.rangeBand()/2,ft=function(n){return a(n)+ht},v.call(t,ft),b.call(t,ft))})}var i=d3.scale.linear(),h="bottom",n=6,u=6,f=6,r=3,e=[10],o=null,s,c=0;return t.scale=function(n){return arguments.length?(i=n,t):i},t.orient=function(n){return arguments.length?(h=n,t):h},t.ticks=function(){return arguments.length?(e=arguments,t):e},t.tickValues=function(n){return arguments.length?(o=n,t):o},t.tickFormat=function(n){return arguments.length?(s=n,t):s},t.tickSize=function(i,r){if(!arguments.length)return n;var e=arguments.length-1;return n=+i,u=e>1?+r:n,f=e>0?+arguments[e]:n,t},t.tickPadding=function(n){return arguments.length?(r=+n,t):r},t.tickSubdivide=function(n){return arguments.length?(c=+n,t):c},t};d3.svg.brush=function(){function r(n){n.each(function(){var u=d3.select(this),o=u.selectAll(".background").data([0]),a=u.selectAll(".extent").data([0]),l=u.selectAll(".resize").data(f,String),n;u.style("pointer-events","all").on("mousedown.brush",c).on("touchstart.brush",c);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");a.enter().append("rect").attr("class","extent").style("cursor","move");l.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return vc[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");l.style("display",r.empty()?"none":null);l.exit().remove();t&&(n=ei(t),o.attr("x",n[0]).attr("width",n[1]-n[0]),s(u));i&&(n=ei(i),o.attr("y",n[0]).attr("height",n[1]-n[0]),h(u));e(u)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+n[+/e$/.test(t)][0]+","+n[+/^s/.test(t)][1]+")"})}function s(t){t.select(".extent").attr("x",n[0][0]);t.selectAll(".extent,.n>rect,.s>rect").attr("width",n[1][0]-n[0][0])}function h(t){t.select(".extent").attr("y",n[0][1]);t.selectAll(".extent,.e>rect,.w>rect").attr("height",n[1][1]-n[0][1])}function c(){function tt(){var n=d3.event.changedTouches;return n?d3.touches(w,n)[0]:d3.mouse(w)}function ut(){d3.event.keyCode==32&&(c||(a=null,f[0]-=n[1][0],f[1]-=n[1][1],c=2),o())}function ft(){d3.event.keyCode==32&&c==2&&(f[0]+=n[1][0],f[1]+=n[1][1],c=0,o())}function p(){var r=tt(),u=!1;b&&(r[0]+=b[0],r[1]+=b[1]);c||(d3.event.altKey?(a||(a=[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]),f[0]=n[+(r[0]<a[0])][0],f[1]=n[+(r[1]<a[1])][1]):a=null);et&&it(r,t,0)&&(s(v),u=!0);ot&&it(r,i,1)&&(h(v),u=!0);u&&(e(v),d({type:"brush",mode:c?"move":"resize"}))}function it(t,i,r){var v=ei(i),h=v[0],l=v[1],o=f[r],y=n[1][r]-n[0][r],e,s;return c&&(h-=o,l-=y+o),e=Math.max(h,Math.min(l,t[r])),c?s=(e+=o)+y:(a&&(o=Math.max(h,Math.min(l,2*a[r]-e))),o<e?(s=e,e=o):s=o),n[0][r]!==e||n[1][r]!==s?(u=null,n[0][r]=e,n[1][r]=s,!0):void 0}function rt(){p();v.style("pointer-events","all").selectAll(".resize").style("display",r.empty()?"none":null);d3.select("body").style("cursor",null);st.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);d({type:"brushend"});o()}var w=this,k=d3.select(d3.event.target),d=l.of(w,arguments),v=d3.select(w),y=k.datum(),et=!/^(n|s)$/.test(y)&&t,ot=!/^(e|w)$/.test(y)&&i,c=k.classed("extent"),a,f=tt(),b,st=d3.select(window).on("mousemove.brush",p).on("mouseup.brush",rt).on("touchmove.brush",p).on("touchend.brush",rt).on("keydown.brush",ut).on("keyup.brush",ft),g,nt;c?(f[0]=n[0][0]-f[0],f[1]=n[0][1]-f[1]):y?(g=+/w$/.test(y),nt=+/^n/.test(y),b=[n[1-g][0]-f[0],n[1-nt][1]-f[1]],f[0]=n[g][0],f[1]=n[nt][1]):d3.event.altKey&&(a=f.slice());v.style("pointer-events","none").selectAll(".resize").style("display",null);d3.select("body").style("cursor",k.style("cursor"));d({type:"brushstart"});p();o()}var l=dr(r,"brushstart","brush","brushend"),t=null,i=null,f=hr[0],n=[[0,0],[0,0]],u;return r.x=function(n){return arguments.length?(t=n,f=hr[!t<<1|!i],r):t},r.y=function(n){return arguments.length?(i=n,f=hr[!t<<1|!i],r):i},r.extent=function(f){var e,o,s,h,c;return arguments.length?(u=[[0,0],[0,0]],t&&(e=f[0],o=f[1],i&&(e=e[0],o=o[0]),u[0][0]=e,u[1][0]=o,t.invert&&(e=t(e),o=t(o)),o<e&&(c=e,e=o,o=c),n[0][0]=e|0,n[1][0]=o|0),i&&(s=f[0],h=f[1],t&&(s=s[1],h=h[1]),u[0][1]=s,u[1][1]=h,i.invert&&(s=i(s),h=i(h)),h<s&&(c=s,s=h,h=c),n[0][1]=s|0,n[1][1]=h|0),r):(f=u||n,t&&(e=f[0][0],o=f[1][0],u||(e=n[0][0],o=n[1][0],t.invert&&(e=t.invert(e),o=t.invert(o)),o<e&&(c=e,e=o,o=c))),i&&(s=f[0][1],h=f[1][1],u||(s=n[0][1],h=n[1][1],i.invert&&(s=i.invert(s),h=i.invert(h)),h<s&&(c=s,s=h,h=c))),t&&i?[[e,s],[o,h]]:t?[e,o]:i&&[s,h])},r.clear=function(){return u=null,n[0][0]=n[0][1]=n[1][0]=n[1][1]=0,r},r.empty=function(){return t&&n[0][0]===n[1][0]||i&&n[0][1]===n[1][1]},d3.rebind(r,l,"on")};vc={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};hr=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];d3.behavior={};d3.behavior.drag=function(){function n(){this.on("mousedown.drag",i).on("touchstart.drag",i)}function i(){function h(){var t=f.parentNode;return n?d3.touches(t).filter(function(t){return t.identifier===n})[0]:d3.mouse(t)}function a(){if(!f.parentNode)return c();var n=h(),t=n[0]-u[0],r=n[1]-u[1];l|=t|r;u=n;o();e({type:"drag",x:n[0]+i[0],y:n[1]+i[1],dx:t,dy:r})}function c(){if(e({type:"dragend"}),l&&(o(),d3.event.target===y))s.on("click.drag",v,!0);s.on(n?"touchmove.drag-"+n:"mousemove.drag",null).on(n?"touchend.drag-"+n:"mouseup.drag",null)}function v(){o();s.on("click.drag",null)}var f=this,e=r.of(f,arguments),y=d3.event.target,n=d3.event.touches&&d3.event.changedTouches[0].identifier,i,u=h(),l=0,s=d3.select(window).on(n?"touchmove.drag-"+n:"mousemove.drag",a).on(n?"touchend.drag-"+n:"mouseup.drag",c,!0);t?(i=t.apply(f,arguments),i=[i.x-u[0],i.y-u[1]]):i=[0,0];n||o();e({type:"dragstart"})}var r=dr(n,"drag","dragstart","dragend"),t=null;return n.origin=function(i){return arguments.length?(t=i,n):t},d3.rebind(n,r,"on")};d3.behavior.zoom=function(){function t(){this.on("mousedown.zoom",g).on("mousewheel.zoom",w).on("mousemove.zoom",nt).on("DOMMouseScroll.zoom",w).on("dblclick.zoom",tt).on("touchstart.zoom",b).on("touchmove.zoom",it).on("touchend.zoom",b)}function f(t){return[(t[0]-i[0])/n,(t[1]-i[1])/n]}function d(t){return[t[0]*n+i[0],t[1]*n+i[1]]}function h(t){n=Math.max(c[0],Math.min(c[1],t))}function e(n,t){t=d(t);i[0]+=n[0]-t[0];i[1]+=n[1]-t[1]}function s(t){l&&l.domain(v.range().map(function(t){return(t-i[0])/n}).map(v.invert));a&&a.domain(y.range().map(function(t){return(t-i[1])/n}).map(y.invert));d3.event.preventDefault();t({type:"zoom",scale:n,translate:i})}function g(){function r(){t=1;e(d3.mouse(n),v);s(l)}function h(){t&&o();i.on("mousemove.zoom",null).on("mouseup.zoom",null);if(t&&d3.event.target===a)i.on("click.zoom",c,!0)}function c(){o();i.on("click.zoom",null)}var n=this,l=u.of(n,arguments),a=d3.event.target,t=0,i=d3.select(window).on("mousemove.zoom",r).on("mouseup.zoom",h),v=f(d3.mouse(n));window.focus();o()}function w(){r||(r=f(d3.mouse(this)));h(Math.pow(2,ov()*.002)*n);e(d3.mouse(this),r);s(u.of(this,arguments))}function nt(){r=null}function tt(){var t=d3.mouse(this),i=f(t);h(d3.event.shiftKey?n/2:n*2);e(t,i);s(u.of(this,arguments))}function b(){var t=d3.touches(this),i=Date.now(),c,l;k=n;r={};t.forEach(function(n){r[n.identifier]=f(n)});o();t.length===1&&(i-p<500&&(c=t[0],l=f(t[0]),h(n*2),e(c,l),s(u.of(this,arguments))),p=i)}function it(){var o=d3.touches(this),n=o[0],t=r[n.identifier],i,f;(i=o[1])&&(f=r[i.identifier],n=[(n[0]+i[0])/2,(n[1]+i[1])/2],t=[(t[0]+f[0])/2,(t[1]+f[1])/2],h(d3.event.scale*k));e(n,t);p=null;s(u.of(this,arguments))}var i=[0,0],r,n=1,k,c=df,u=dr(t,"zoom"),v,l,y,a,p;return t.translate=function(n){return arguments.length?(i=n.map(Number),t):i},t.scale=function(i){return arguments.length?(n=+i,t):n},t.scaleExtent=function(n){return arguments.length?(c=n==null?df:n.map(Number),t):c},t.x=function(n){return arguments.length?(l=n,v=n.copy(),t):l},t.y=function(n){return arguments.length?(a=n,y=n.copy(),t):a},d3.rebind(t,u,"on")};df=[0,Infinity];d3.layout={};d3.layout.bundle=function(){return function(n){for(var t=[],i=-1,r=n.length;++i<r;)t.push(sv(n[i]));return t}};d3.layout.chord=function(){function h(){var w={},b=[],nt=d3.range(i),k=[],a,n,d,h,l,y,p;for(t=[],r=[],a=0,h=-1;++h<i;){for(n=0,l=-1;++l<i;)n+=u[h][l];b.push(n);k.push(d3.range(i));a+=n}for(e&&nt.sort(function(n,t){return e(b[n],b[t])}),o&&k.forEach(function(n,t){n.sort(function(n,i){return o(u[t][n],u[t][i])})}),a=(2*Math.PI-f*i)/a,n=0,h=-1;++h<i;){for(d=n,l=-1;++l<i;){var v=nt[h],g=k[v][l],tt=u[v][g],it=n,rt=n+=tt*a;w[v+"-"+g]={index:v,subindex:g,startAngle:it,endAngle:rt,value:tt}}r[v]={index:v,startAngle:d,endAngle:n,value:(n-d)/a};n+=f}for(h=-1;++h<i;)for(l=h-1;++l<i;)y=w[h+"-"+l],p=w[l+"-"+h],(y.value||p.value)&&t.push(y.value<p.value?{source:p,target:y}:{source:y,target:p});s&&c()}function c(){t.sort(function(n,t){return s((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}var n={},t,r,u,i,f=0,e,o,s;return n.matrix=function(f){return arguments.length?(i=(u=f)&&u.length,t=r=null,n):u},n.padding=function(i){return arguments.length?(f=i,t=r=null,n):f},n.sortGroups=function(i){return arguments.length?(e=i,t=r=null,n):e},n.sortSubgroups=function(i){return arguments.length?(o=i,t=null,n):o},n.sortChords=function(i){return arguments.length?(s=i,t&&c(),n):s},n.chords=function(){return t||h(),t},n.groups=function(){return r||h(),r},n};d3.layout.force=function(){function k(n){return function(t,i,r,u){var e;if(t.point!==n){var o=t.cx-n.x,s=t.cy-n.y,f=1/Math.sqrt(o*o+s*s);if((u-i)*f<y)return e=t.charge*f*f,n.px-=o*e,n.py-=s*e,!0;t.point&&isFinite(f)&&(e=t.pointCharge*f*f,n.px-=o*e,n.py-=s*e)}return!t.charge}}function d(t){t.px=d3.event.x;t.py=d3.event.y;n.resume()}var n={},o=d3.dispatch("start","tick","end"),f=[1,1],c,r,s=.9,l=yv,a=pv,e=-30,v=.1,y=.8,t=[],u=[],p,w,h;return n.tick=function(){if((r*=.99)<.005)return o.end({type:"end",alpha:r=0}),!0;for(var g=t.length,tt=u.length,nt,n,y,d,b,c,l,a,i=0;i<tt;++i)n=u[i],y=n.source,d=n.target,l=d.x-y.x,a=d.y-y.y,(b=l*l+a*a)&&(b=r*w[i]*((b=Math.sqrt(b))-p[i])/b,l*=b,a*=b,d.x-=l*(c=y.weight/(d.weight+y.weight)),d.y-=a*c,y.x+=l*(c=1-c),y.y+=a*c);if((c=r*v)&&(l=f[0]/2,a=f[1]/2,i=-1,c))while(++i<g)n=t[i],n.x+=(l-n.x)*c,n.y+=(a-n.y)*c;if(e)for(ks(nt=d3.geom.quadtree(t),r,h),i=-1;++i<g;)(n=t[i]).fixed||nt.visit(k(n));for(i=-1;++i<g;)n=t[i],n.fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*s,n.y-=(n.py-(n.py=n.y))*s);o.tick({type:"tick",alpha:r})},n.nodes=function(i){return arguments.length?(t=i,n):t},n.links=function(t){return arguments.length?(u=t,n):u},n.size=function(t){return arguments.length?(f=t,n):f},n.linkDistance=function(t){return arguments.length?(l=i(t),n):l},n.distance=n.linkDistance,n.linkStrength=function(t){return arguments.length?(a=i(t),n):a},n.friction=function(t){return arguments.length?(s=t,n):s},n.charge=function(t){return arguments.length?(e=typeof t=="function"?t:+t,n):e},n.gravity=function(t){return arguments.length?(v=t,n):v},n.theta=function(t){return arguments.length?(y=t,n):y},n.alpha=function(t){return arguments.length?(r?r=t>0?t:0:t>0&&(o.start({type:"start",alpha:r=t}),d3.timer(n.tick)),n):r},n.start=function(){function v(n,t){for(var r=b(i),u=-1,e=r.length,f;++u<e;)if(!isNaN(f=r[u][n]))return f;return Math.random()*t}function b(){if(!s){for(s=[],o=0;o<c;++o)s[o]=[];for(o=0;o<y;++o){var n=u[o];s[n.source.index].push(n.target);s[n.target.index].push(n.source)}}return s[i]}for(var o,c=t.length,y=u.length,k=f[0],d=f[1],s,r,i=0;i<c;++i)(r=t[i]).index=i,r.weight=0;for(p=[],w=[],i=0;i<y;++i)r=u[i],typeof r.source=="number"&&(r.source=t[r.source]),typeof r.target=="number"&&(r.target=t[r.target]),p[i]=l.call(this,r,i),w[i]=a.call(this,r,i),++r.source.weight,++r.target.weight;for(i=0;i<c;++i)r=t[i],isNaN(r.x)&&(r.x=v("x",k)),isNaN(r.y)&&(r.y=v("y",d)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(h=[],typeof e=="function")for(i=0;i<c;++i)h[i]=+e.call(this,t[i],i);else for(i=0;i<c;++i)h[i]=e;return n.resume()},n.resume=function(){return n.alpha(.1)},n.stop=function(){return n.alpha(0)},n.drag=function(){c||(c=d3.behavior.drag().origin(b).on("dragstart",cv).on("drag",d).on("dragend",lv));this.on("mouseover.force",av).on("mouseout.force",vv).call(c)},d3.rebind(n,o,"on")};d3.layout.partition=function(){function i(n,t,r,u){var f=n.children,e,o,s,h;if(n.x=t,n.y=n.depth*u,n.dx=r,n.dy=u,f&&(o=f.length))for(e=-1,r=n.value?r/n.value:0;++e<o;)i(s=f[e],t,h=s.value*r,u),t+=h}function r(n){var t=n.children,i=0,u,f;if(t&&(f=t.length))for(u=-1;++u<f;)i=Math.max(i,r(t[u]));return 1+i}function t(t,f){var e=u.call(this,t,f);return i(e[0],0,n[0],n[1]/r(e[0])),e}var u=d3.layout.hierarchy(),n=[1,1];return t.size=function(i){return arguments.length?(n=i,t):n},yt(t,u)};d3.layout.pie=function(){function n(f){var e=f.map(function(t,i){return+u.call(n,t,i)}),s=+(typeof t=="function"?t.apply(this,arguments):t),c=((typeof r=="function"?r.apply(this,arguments):r)-t)/d3.sum(e),h=d3.range(f.length),o;return i!=null&&h.sort(i===gf?function(n,t){return e[t]-e[n]}:function(n,t){return i(f[n],f[t])}),o=[],h.forEach(function(n){var t;o[n]={data:f[n],value:t=e[n],startAngle:s,endAngle:s+=t*c}}),o}var u=Number,i=gf,t=0,r=2*Math.PI;return n.value=function(t){return arguments.length?(u=t,n):u},n.sort=function(t){return arguments.length?(i=t,n):i},n.startAngle=function(i){return arguments.length?(t=i,n):t},n.endAngle=function(t){return arguments.length?(r=t,n):r},n};gf={};d3.layout.stack=function(){function n(o,s){var c=o.map(function(t,r){return i.call(n,t,r)}),l=c.map(function(t){return t.map(function(t,i){return[f.call(n,t,i),e.call(n,t,i)]})}),v=r.call(n,l,s);c=d3.permute(c,v);l=d3.permute(l,v);for(var p=u.call(n,l,s),w=c.length,b=c[0].length,a,y,h=0;h<b;++h)for(t.call(n,c[0][h],y=p[h],l[0][h][1]),a=1;a<w;++a)t.call(n,c[a][h],y+=l[a-1][h][1],l[a][h][1]);return o}var i=b,r=ku,u=du,t=kv,f=wv,e=bv;return n.values=function(t){return arguments.length?(i=t,n):i},n.order=function(t){return arguments.length?(r=typeof t=="function"?t:yc.get(t)||ku,n):r},n.offset=function(t){return arguments.length?(u=typeof t=="function"?t:pc.get(t)||du,n):u},n.x=function(t){return arguments.length?(f=t,n):f},n.y=function(t){return arguments.length?(e=t,n):e},n.out=function(i){return arguments.length?(t=i,n):t},n};yc=d3.map({"inside-out":function(n){for(var r=n.length,t,u=n.map(dv),f=n.map(gv),c=d3.range(r).sort(function(n,t){return u[n]-u[t]}),e=0,o=0,s=[],h=[],i=0;i<r;++i)t=c[i],e<o?(e+=f[t],s.push(t)):(o+=f[t],h.push(t));return h.reverse().concat(s)},reverse:function(n){return d3.range(n.length).reverse()},"default":ku});pc=d3.map({silhouette:function(n){for(var s=n.length,f=n[0].length,e=[],u=0,r,i,o=[],t=0;t<f;++t){for(r=0,i=0;r<s;r++)i+=n[r][t][1];i>u&&(u=i);e.push(i)}for(t=0;t<f;++t)o[t]=(u-e[t])/2;return o},wiggle:function(n){var a=n.length,h=n[0],v=h.length,i,t,r,u,c,l,f,e,o,s=[];for(s[0]=e=o=0,t=1;t<v;++t){for(i=0,u=0;i<a;++i)u+=n[i][t][1];for(i=0,c=0,f=h[t][0]-h[t-1][0];i<a;++i){for(r=0,l=(n[i][t][1]-n[i][t-1][1])/(2*f);r<i;++r)l+=(n[r][t][1]-n[r][t-1][1])/f;c+=l*n[i][t][1]}s[t]=e-=u?c/u*f:0;e<o&&(o=e)}for(t=0;t<v;++t)s[t]-=o;return s},expand:function(n){for(var r=n.length,f=n[0].length,o=1/r,t,u,e=[],i=0;i<f;++i){for(t=0,u=0;t<r;t++)u+=n[t][i][1];if(u)for(t=0;t<r;t++)n[t][i][1]/=u;else for(t=0;t<r;t++)n[t][i][1]=o}for(i=0;i<f;++i)e[i]=0;return e},zero:du});d3.layout.histogram=function(){function n(n,i){for(var c=[],o=n.map(r,this),l=u.call(this,o,i),s=f.call(this,l,o,i),e,i=-1,v=o.length,a=s.length-1,y=t?1:1/v,h;++i<a;)e=c[i]=[],e.dx=s[i+1]-(e.x=s[i]),e.y=0;if(a>0)for(i=-1;++i<v;)h=o[i],h>=l[0]&&h<=l[1]&&(e=c[d3.bisect(s,h,1,a)-1],e.y+=y,e.push(n[i]));return c}var t=!0,r=Number,u=iy,f=ty;return n.value=function(t){return arguments.length?(r=t,n):r},n.range=function(t){return arguments.length?(u=i(t),n):u},n.bins=function(t){return arguments.length?(f=typeof t=="number"?function(n){return ds(n,t)}:i(t),n):f},n.frequency=function(i){return arguments.length?(t=!!i,n):t},n};d3.layout.hierarchy=function(){function u(f,e,o){var c=r.call(n,f,e),s=cr?f:{data:f};if(s.depth=e,o.push(s),c&&(a=c.length)){for(var l=-1,a,v=s.children=[],y=0,p=e+1,h;++l<a;)h=u(c[l],p,o),h.parent=s,v.push(h),y+=h.value;i&&v.sort(i);t&&(s.value=y)}else t&&(s.value=+t.call(n,f,e)||0);return s}function f(i,r){var e=i.children,u=0,o,s,h;if(e&&(s=e.length))for(o=-1,h=r+1;++o<s;)u+=f(e[o],h);else t&&(u=+t.call(n,cr?i:i.data,r)||0);return t&&(i.value=u),u}function n(n){var t=[];return u(n,0,t),t}var i=fy,r=ry,t=uy;return n.sort=function(t){return arguments.length?(i=t,n):i},n.children=function(t){return arguments.length?(r=t,n):r},n.value=function(i){return arguments.length?(t=i,n):t},n.revalue=function(n){return f(n,0),n},n};cr=!1;d3.layout.pack=function(){function n(n,u){var c=r.call(this,n,u),f=c[0],h;f.x=0;f.y=0;a(f,function(n){n.r=Math.sqrt(n.value)});a(f,th);var e=i[0],o=i[1],s=Math.max(2*f.r/e,2*f.r/o);return t>0&&(h=t*s/2,a(f,function(n){n.r+=h}),a(f,th),a(f,function(n){n.r-=h}),s=Math.max(2*f.r/e,2*f.r/o)),ih(f,e/2,o/2,1/s),c}var r=d3.layout.hierarchy().sort(oy),t=0,i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},n.padding=function(i){return arguments.length?(t=+i,n):t},yt(n,r)};d3.layout.cluster=function(){function n(n,u){var h=r.call(this,n,u),f=h[0],e,l=0;a(f,function(n){var i=n.children;i&&i.length?(n.x=ly(i),n.y=cy(i)):(n.x=e?l+=t(n,e):0,n.y=0,e=n)});var o=uh(f),s=fh(f),c=o.x-t(o,s)/2,v=s.x+t(s,o)/2;return a(f,function(n){n.x=(n.x-c)/(v-c)*i[0];n.y=(1-(f.y?n.y/f.y:1))*i[1]}),h}var r=d3.layout.hierarchy().sort(null).value(null),t=eh,i=[1,1];return n.separation=function(i){return arguments.length?(t=i,n):t},n.size=function(t){return arguments.length?(i=t,n):i},yt(n,r)};d3.layout.tree=function(){function t(t,u){function s(t,i){var f=t.children,r=t._tree,o;if(f&&(h=f.length)){for(var h,c=f[0],e,l=c,u,a=-1;++a<h;)u=f[a],s(u,e),l=v(u,e,l),e=u;py(t);o=.5*(c._tree.prelim+u._tree.prelim);i?(r.prelim=i._tree.prelim+n(t,i),r.mod=r.prelim-o):r.prelim=o}else i&&(r.prelim=i._tree.prelim+n(t,i))}function h(n,t){var i,r,u;if(n.x=n._tree.prelim+t,i=n.children,i&&(u=i.length))for(r=-1,t+=n._tree.mod;++r<u;)h(i[r],t)}function v(t,i,r){if(i){for(var f=t,e=t,u=i,o=t.parent.children[0],h=f._tree.mod,c=e._tree.mod,l=u._tree.mod,a=o._tree.mod,s;u=tf(u),f=nf(f),u&&f;)o=nf(o),e=tf(e),e._tree.ancestor=t,s=u._tree.prelim+l-f._tree.prelim-h+n(u,f),s>0&&(wy(by(u,t,r),t,s),h+=s,c+=s),l+=u._tree.mod,h+=f._tree.mod,a+=o._tree.mod,c+=e._tree.mod;u&&!tf(e)&&(e._tree.thread=u,e._tree.mod+=l-c);f&&!nf(o)&&(o._tree.thread=f,o._tree.mod+=h-a,r=t)}return r}var c=r.call(this,t,u),f=c[0];a(f,function(n,t){n._tree={ancestor:n,prelim:0,mod:0,change:0,shift:0,number:t?t._tree.number+1:0}});s(f);h(f,-f._tree.prelim);var e=li(f,vy),o=li(f,ay),y=li(f,yy),l=e.x-n(e,o)/2,p=o.x+n(o,e)/2,w=y.depth||1;return a(f,function(n){n.x=(n.x-l)/(p-l)*i[0];n.y=n.depth/w*i[1];delete n._tree}),c}var r=d3.layout.hierarchy().sort(null).value(null),n=eh,i=[1,1];return t.separation=function(i){return arguments.length?(n=i,t):n},t.size=function(n){return arguments.length?(i=n,t):i},yt(t,r)};d3.layout.treemap=function(){function f(n,t){for(var r=-1,f=n.length,u,i;++r<f;)i=(u=n[r]).value*(t<0?0:t),u.area=isNaN(i)||i<=0?0:i}function c(n){var r=n.children;if(r&&r.length){var i=s(n),t=[],u=r.slice(),l,h=Infinity,a,o=Math.min(i.dx,i.dy),y;for(f(u,i.dx*i.dy/n.value),t.area=0;(y=u.length)>0;)t.push(l=u[y-1]),t.area+=l.area,(a=v(t,o))<=h?(u.pop(),h=a):(t.area-=t.pop().area,e(t,o,i,!1),o=Math.min(i.dx,i.dy),t.length=t.area=0,h=Infinity);t.length&&(e(t,o,i,!0),t.length=t.area=0);r.forEach(c)}}function l(n){var u=n.children;if(u&&u.length){var i=s(n),o=u.slice(),r,t=[];for(f(o,i.dx*i.dy/n.value),t.area=0;r=o.pop();)t.push(r),t.area+=r.area,r.z!=null&&(e(t,r.z?i.dx:i.dy,i,!o.length),t.length=t.area=0);u.forEach(l)}}function v(n,t){for(var i=n.area,r,f=0,e=Infinity,o=-1,s=n.length;++o<s;)(r=n[o].area)&&(r<e&&(e=r),r>f&&(f=r));return i*=i,t*=t,i?Math.max(t*f*u/i,i/(t*e*u)):Infinity}function e(n,i,r,u){var h=-1,c=n.length,o=r.x,s=r.y,e=i?t(n.area/i):0,f;if(i==r.dx){for((u||e>r.dy)&&(e=r.dy);++h<c;)f=n[h],f.x=o,f.y=s,f.dy=e,o+=f.dx=Math.min(r.x+r.dx-o,e?t(f.area/e):0);f.z=!0;f.dx+=r.x+r.dx-o;r.y+=e;r.dy-=e}else{for((u||e>r.dx)&&(e=r.dx);++h<c;)f=n[h],f.x=o,f.y=s,f.dx=e,s+=f.dy=Math.min(r.y+r.dy-s,e?t(f.area/e):0);f.z=!1;f.dy+=r.y+r.dy-s;r.x+=e;r.dx-=e}}function n(n){var u=i||o(n),t=u[0];return t.x=0,t.y=0,t.dx=r[0],t.dy=r[1],i&&o.revalue(t),f([t],t.dx*t.dy/t.value),(i?l:c)(t),h&&(i=u),u}var o=d3.layout.hierarchy(),t=Math.round,r=[1,1],a=null,s=rf,h=!1,i,u=.5*(1+Math.sqrt(5));return n.size=function(t){return arguments.length?(r=t,n):r},n.padding=function(t){function u(i){var r=t.call(n,i,i.depth);return r==null?rf(i):oh(i,typeof r=="number"?[r,r,r,r]:r)}function i(n){return oh(n,t)}if(!arguments.length)return a;var r;return s=(a=t)==null?rf:(r=typeof t)=="function"?u:r==="number"?(t=[t,t,t,t],i):i,n},n.round=function(i){return arguments.length?(t=i?Math.round:Number,n):t!=Number},n.sticky=function(t){return arguments.length?(h=t,i=null,n):h},n.ratio=function(t){return arguments.length?(u=t,n):u},yt(n,o)};d3.csv=sh(",","text/csv");d3.tsv=sh("\t","text/tab-separated-values");d3.geo={};n=Math.PI/180;d3.geo.azimuthal=function(){function i(i){var l=i[0]*n-s,a=i[1]*n,v=Math.cos(l),w=Math.sin(l),c=Math.cos(a),y=Math.sin(a),o=t!=="orthographic"?e*y+f*c*v:null,h,p=t==="stereographic"?1/(1+o):t==="gnomonic"?1/o:t==="equidistant"?(h=Math.acos(o),h?h/Math.sin(h):0):t==="equalarea"?Math.sqrt(2/(1+o)):1,b=p*c*w,k=p*(e*c*v-f*y);return[r*b+u[0],r*k+u[1]]}var t="orthographic",o,r=200,u=[480,250],s,h,f,e;return i.invert=function(i){var c=(i[0]-u[0])/r,h=(i[1]-u[1])/r,o=Math.sqrt(c*c+h*h),a=t==="stereographic"?2*Math.atan(o):t==="gnomonic"?Math.atan(o):t==="equidistant"?o:t==="equalarea"?2*Math.asin(.5*o):Math.asin(o),l=Math.sin(a),v=Math.cos(a);return[(s+Math.atan2(c*l,o*f*v+h*e*l))/n,Math.asin(v*e-(o?h*l*f/o:0))/n]},i.mode=function(n){return arguments.length?(t=n+"",i):t},i.origin=function(t){return arguments.length?(o=t,s=o[0]*n,h=o[1]*n,f=Math.cos(h),e=Math.sin(h),i):o},i.scale=function(n){return arguments.length?(r=+n,i):r},i.translate=function(n){return arguments.length?(u=[+n[0],+n[1]],i):u},i.origin([0,0])};d3.geo.albers=function(){function i(i){var f=t*(n*i[0]-h),e=Math.sqrt(o-2*t*Math.sin(n*i[1]))/t;return[r*e*Math.sin(f)+u[0],r*(e*Math.cos(f)-c)+u[1]]}function s(){var r=n*e[0],l=n*e[1],a=n*f[1],u=Math.sin(r),s=Math.cos(r);return h=n*f[0],t=.5*(u+Math.sin(l)),o=s*s+2*t*u,c=Math.sqrt(o-2*t*Math.sin(a))/t,i}var f=[-98,38],e=[29.5,45.5],r=1e3,u=[480,250],h,t,o,c;return i.invert=function(i){var f=(i[0]-u[0])/r,l=(i[1]-u[1])/r,e=c+l,a=Math.atan2(f,e),s=Math.sqrt(f*f+e*e);return[(h+a/t)/n,Math.asin((o-s*s*t*t)/(2*t))/n]},i.origin=function(n){return arguments.length?(f=[+n[0],+n[1]],s()):f},i.parallels=function(n){return arguments.length?(e=[+n[0],+n[1]],s()):e},i.scale=function(n){return arguments.length?(r=+n,i):r},i.translate=function(n){return arguments.length?(u=[+n[0],+n[1]],i):u},s()};d3.geo.albersUsa=function(){function t(t){var e=t[0],f=t[1];return(f>50?i:e<-140?r:f<21?u:n)(t)}var n=d3.geo.albers(),i=d3.geo.albers().origin([-160,60]).parallels([55,65]),r=d3.geo.albers().origin([-160,20]).parallels([8,18]),u=d3.geo.albers().origin([-60,10]).parallels([8,18]);return t.scale=function(f){return arguments.length?(n.scale(f),i.scale(f*.6),r.scale(f),u.scale(f*1.5),t.translate(n.translate())):n.scale()},t.translate=function(f){if(!arguments.length)return n.translate();var e=n.scale()/1e3,o=f[0],s=f[1];return n.translate(f),i.translate([o-400*e,s+170*e]),r.translate([o-190*e,s+200*e]),u.translate([o+580*e,s+430*e]),t},t.scale(n.scale())};d3.geo.bonne=function(){function t(t){var h=t[0]*n-e,s=t[1]*n-o,c,l;return u?(c=f+u-s,l=h*Math.cos(s)/c,h=c*Math.sin(l),s=c*Math.cos(l)-f):(h*=Math.cos(s),s*=-1),[i*h+r[0],i*s+r[1]]}var i=200,r=[480,250],e,o,u,f;return t.invert=function(t){var o=(t[0]-r[0])/i,s=(t[1]-r[1])/i,h,c;return u?(h=f+s,c=Math.sqrt(o*o+h*h),s=f+u-c,o=e+c*Math.atan2(o,h)/Math.cos(s)):(s*=-1,o/=Math.cos(s)),[o/n,s/n]},t.parallel=function(i){return arguments.length?(f=1/Math.tan(u=i*n),t):u/n},t.origin=function(i){return arguments.length?(e=i[0]*n,o=i[1]*n,t):[e/n,o/n]},t.scale=function(n){return arguments.length?(i=+n,t):i},t.translate=function(n){return arguments.length?(r=[+n[0],+n[1]],t):r},t.origin([0,0]).parallel(45)};d3.geo.equirectangular=function(){function n(n){var r=n[0]/360,u=-n[1]/360;return[t*r+i[0],t*u+i[1]]}var t=500,i=[480,250];return n.invert=function(n){var r=(n[0]-i[0])/t,u=(n[1]-i[1])/t;return[360*r,-360*u]},n.scale=function(i){return arguments.length?(t=+i,n):t},n.translate=function(t){return arguments.length?(i=[+t[0],+t[1]],n):i},n};d3.geo.mercator=function(){function t(t){var u=t[0]/360,f=-(Math.log(Math.tan(Math.PI/4+t[1]*n/2))/n)/360;return[i*u+r[0],i*Math.max(-.5,Math.min(.5,f))+r[1]]}var i=500,r=[480,250];return t.invert=function(t){var u=(t[0]-r[0])/i,f=(t[1]-r[1])/i;return[360*u,2*Math.atan(Math.exp(-360*f*n))/n-90]},t.scale=function(n){return arguments.length?(i=+n,t):i},t.translate=function(n){return arguments.length?(r=[+n[0],+n[1]],t):r},t};d3.geo.path=function(){function t(t){typeof r=="function"&&(f=uf(r.apply(this,arguments)));e(t);var i=n.length?n.join(""):null;return n=[],i}function i(n){return u(n).join(",")}function s(n){for(var t=c(n[0]),i=0,r=n.length;++i<r;)t-=c(n[i]);return t}function h(n){for(var i=d3.geom.polygon(n[0].map(u)),t=i.area(),r=i.centroid(t<0?(t*=-1,1):-1),f=r[0],e=r[1],o=t,s=0,h=n.length;++s<h;)i=d3.geom.polygon(n[s].map(u)),t=i.area(),r=i.centroid(t<0?(t*=-1,1):-1),f-=r[0],e-=r[1],o-=t;return[f,e,6*o]}function c(n){return Math.abs(d3.geom.polygon(n.map(u)).area())}var r=4.5,f=uf(r),u=d3.geo.albersUsa(),n=[],e=ai({FeatureCollection:function(t){for(var i=t.features,r=-1,u=i.length;++r<u;)n.push(e(i[r].geometry))},Feature:function(n){e(n.geometry)},Point:function(t){n.push("M",i(t.coordinates),f)},MultiPoint:function(t){for(var r=t.coordinates,u=-1,e=r.length;++u<e;)n.push("M",i(r[u]),f)},LineString:function(t){var r=t.coordinates,u=-1,f=r.length;for(n.push("M");++u<f;)n.push(i(r[u]),"L");n.pop()},MultiLineString:function(t){for(var f=t.coordinates,e=-1,s=f.length,r,u,o;++e<s;){for(r=f[e],u=-1,o=r.length,n.push("M");++u<o;)n.push(i(r[u]),"L");n.pop()}},Polygon:function(t){for(var f=t.coordinates,e=-1,s=f.length,r,u,o;++e<s;)if(r=f[e],u=-1,(o=r.length-1)>0){for(n.push("M");++u<o;)n.push(i(r[u]),"L");n[n.length-1]="Z"}},MultiPolygon:function(t){for(var o=t.coordinates,s=-1,l=o.length,r,u,h,f,e,c;++s<l;)for(r=o[s],u=-1,h=r.length;++u<h;)if(f=r[u],e=-1,(c=f.length-1)>0){for(n.push("M");++e<c;)n.push(i(f[e]),"L");n[n.length-1]="Z"}},GeometryCollection:function(t){for(var i=t.geometries,r=-1,u=i.length;++r<u;)n.push(e(i[r]))}}),o=t.area=ai({FeatureCollection:function(n){for(var t=0,i=n.features,r=-1,u=i.length;++r<u;)t+=o(i[r]);return t},Feature:function(n){return o(n.geometry)},Polygon:function(n){return s(n.coordinates)},MultiPolygon:function(n){for(var t=0,i=n.coordinates,r=-1,u=i.length;++r<u;)t+=s(i[r]);return t},GeometryCollection:function(n){for(var t=0,i=n.geometries,r=-1,u=i.length;++r<u;)t+=o(i[r]);return t}},0),l=t.centroid=ai({Feature:function(n){return l(n.geometry)},Polygon:function(n){var t=h(n.coordinates);return[t[0]/t[2],t[1]/t[2]]},MultiPolygon:function(n){for(var r=n.coordinates,t,u=0,f=0,i=0,e=-1,o=r.length;++e<o;)t=h(r[e]),u+=t[0],f+=t[1],i+=t[2];return[u/i,f/i]}});return t.projection=function(n){return u=n,t},t.pointRadius=function(n){return typeof n=="function"?r=n:(r=+n,f=uf(r)),t},t};d3.geo.bounds=function(n){var t=Infinity,i=Infinity,r=-Infinity,u=-Infinity;return vi(n,function(n,f){n<t&&(t=n);n>r&&(r=n);f<i&&(i=f);f>u&&(u=f)}),[[t,i],[r,u]]};ne={Feature:ky,FeatureCollection:dy,GeometryCollection:gy,LineString:hh,MultiLineString:np,MultiPoint:hh,MultiPolygon:tp,Point:ip,Polygon:rp};d3.geo.circle=function(){function r(){}function s(n){return t.distance(n)<u}function e(n){for(var c=-1,l=n.length,r=[],e,i,f,o,s;++c<l;)s=t.distance(f=n[c]),s<u?(i&&r.push(lh(i,f)((o-u)/(o-s))),r.push(f),e=i=null):(i=f,!e&&r.length&&(r.push(lh(r[r.length-1],i)((u-o)/(s-o))),e=i)),o=s;return e=n[0],i=r[0],!i||f[0]!==e[0]||f[1]!==e[1]||f[0]===i[0]&&f[1]===i[1]||r.push(i),h(r)}function h(n){for(var i=0,f=n.length,r,e,o=f?[n[0]]:n,u,s=t.source();++i<f;)for(u=t.source(n[i-1])(n[i]).coordinates,r=0,e=u.length;++r<e;)o.push(u[r]);return t.source(s),o}var i=[0,0],o=90-.01,u=o*n,t=d3.geo.greatArc().source(i).target(b),f;return r.clip=function(n){return typeof i=="function"&&t.source(i.apply(this,arguments)),f(n)||null},f=ai({FeatureCollection:function(n){var t=n.features.map(f).filter(b);return t&&(n=Object.create(n),n.features=t,n)},Feature:function(n){var t=f(n.geometry);return t&&(n=Object.create(n),n.geometry=t,n)},Point:function(n){return s(n.coordinates)&&n},MultiPoint:function(n){var t=n.coordinates.filter(s);return t.length&&{type:n.type,coordinates:t}},LineString:function(n){var t=e(n.coordinates);return t.length&&(n=Object.create(n),n.coordinates=t,n)},MultiLineString:function(n){var t=n.coordinates.map(e).filter(function(n){return n.length});return t.length&&(n=Object.create(n),n.coordinates=t,n)},Polygon:function(n){var t=n.coordinates.map(e);return t[0].length&&(n=Object.create(n),n.coordinates=t,n)},MultiPolygon:function(n){var t=n.coordinates.map(function(n){return n.map(e)}).filter(function(n){return n[0].length});return t.length&&(n=Object.create(n),n.coordinates=t,n)},GeometryCollection:function(n){var t=n.geometries.map(f).filter(b);return t.length&&(n=Object.create(n),n.geometries=t,n)}}),r.origin=function(n){return arguments.length?(i=n,typeof i!="function"&&t.source(i),r):i},r.angle=function(t){return arguments.length?(u=(o=+t)*n,r):o},d3.rebind(r,t,"precision")};d3.geo.greatArc=function(){function t(){for(var r=t.distance.apply(this,arguments),i=0,s=o/r,n=[f];(i+=s)<1;)n.push(u(i));return n.push(e),{type:"LineString",coordinates:n}}var i=up,f,r=fp,e,o=6*n,u=ch();return t.distance=function(){return typeof i=="function"&&u.source(f=i.apply(this,arguments)),typeof r=="function"&&u.target(e=r.apply(this,arguments)),u.distance()},t.source=function(n){return arguments.length?(i=n,typeof i!="function"&&u.source(f=i),t):i},t.target=function(n){return arguments.length?(r=n,typeof r!="function"&&u.target(e=r),t):r},t.precision=function(i){return arguments.length?(o=i*n,t):o/n},t};d3.geo.greatCircle=d3.geo.circle;d3.geom={};d3.geom.contour=function(n,t){var o=t||ep(n),c=[],r=o[0],u=o[1],f=0,e=0,s=NaN,h=NaN,i=0;do i=0,n(r-1,u-1)&&(i+=1),n(r,u-1)&&(i+=2),n(r-1,u)&&(i+=4),n(r,u)&&(i+=8),i===6?(f=h===-1?-1:1,e=0):i===9?(f=0,e=s===1?-1:1):(f=wc[i],e=bc[i]),f!=s&&e!=h&&(c.push([r,u]),s=f,h=e),r+=f,u+=e;while(o[0]!=r||o[1]!=u);return c};wc=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,NaN];bc=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,NaN];d3.geom.hull=function(n){var p;if(n.length<3)return[];for(var a=n.length,w=a-1,i=[],f=[],r,u=0,o,s,v,y,c,h,l,e,t=1;t<a;++t)n[t][1]<n[u][1]?u=t:n[t][1]==n[u][1]&&(u=n[t][0]<n[u][0]?t:u);for(t=0;t<a;++t)t!==u&&(s=n[t][1]-n[u][1],o=n[t][0]-n[u][0],i.push({angle:Math.atan2(s,o),index:t}));for(i.sort(function(n,t){return n.angle-t.angle}),l=i[0].angle,h=i[0].index,c=0,t=1;t<w;++t)r=i[t].index,l==i[t].angle?(o=n[h][0]-n[u][0],s=n[h][1]-n[u][1],v=n[r][0]-n[u][0],y=n[r][1]-n[u][1],o*o+s*s>=v*v+y*y?i[t].index=-1:(i[c].index=-1,l=i[t].angle,c=t,h=r)):(l=i[t].angle,c=t,h=r);for(f.push(u),t=0,r=0;t<2;++r)i[r].index!==-1&&(f.push(i[r].index),t++);for(e=f.length;r<w;++r)if(i[r].index!==-1){while(!op(f[e-2],f[e-1],i[r].index,n))--e;f[e++]=i[r].index}for(p=[],t=0;t<e;++t)p.push(n[f[t]]);return p};d3.geom.polygon=function(n){return n.area=function(){for(var t=0,i=n.length,r=n[i-1][0]*n[0][1],u=n[i-1][1]*n[0][0];++t<i;)r+=n[t-1][0]*n[t][1],u+=n[t-1][1]*n[t][0];return(u-r)*.5},n.centroid=function(t){var f=-1,e=n.length,o=0,s=0,r,i=n[e-1],u;for(arguments.length||(t=-1/(6*n.area()));++f<e;)r=i,i=n[f],u=r[0]*i[1]-i[0]*r[1],o+=(r[0]+i[0])*u,s+=(r[1]+i[1])*u;return[o*t,s*t]},n.clip=function(t){for(var e,s=-1,h=n.length,o,c,r=n[h-1],i,u,f;++s<h;){for(e=t.slice(),t.length=0,i=n[s],u=e[(c=e.length)-1],o=-1;++o<c;)f=e[o],ff(f,r,i)?(ff(u,r,i)||t.push(ah(u,f,r,i)),t.push(f)):ff(u,r,i)&&t.push(ah(u,f,r,i)),u=f;r=i}return t},n};d3.geom.voronoi=function(n){var t=n.map(function(){return[]});return vh(n,function(n){var i,r,u,f,e,o,s,h;n.a===1&&n.b>=0?(i=n.ep.r,r=n.ep.l):(i=n.ep.l,r=n.ep.r);n.a===1?(e=i?i.y:-1e6,u=n.c-n.b*e,o=r?r.y:1e6,f=n.c-n.b*o):(u=i?i.x:-1e6,e=n.c-n.a*u,f=r?r.x:1e6,o=n.c-n.a*f);s=[u,e];h=[f,o];t[n.region.l.index].push(s,h);t[n.region.r.index].push(s,h)}),t.map(function(t,i){var r=n[i][0],u=n[i][1];return t.forEach(function(n){n.angle=Math.atan2(n[0]-r,n[1]-u)}),t.sort(function(n,t){return n.angle-t.angle}).filter(function(n,i){return!i||n.angle-t[i-1].angle>1e-10})})};lr={l:"r",r:"l"};d3.geom.delaunay=function(n){var t=n.map(function(){return[]}),i=[];return vh(n,function(i){t[i.region.l.index].push(n[i.region.r.index])}),t.forEach(function(t,r){var f=n[r],o=f[0],s=f[1],u,e;for(t.forEach(function(n){n.angle=Math.atan2(n[0]-o,n[1]-s)}),t.sort(function(n,t){return n.angle-t.angle}),u=0,e=t.length-1;u<e;u++)i.push([f,t[u],t[u+1]])}),i};d3.geom.quadtree=function(n,t,i,r,u){function c(n,t,i,r,u,f){if(!isNaN(t.x)&&!isNaN(t.y))if(n.leaf){var e=n.point;e?Math.abs(e.x-t.x)+Math.abs(e.y-t.y)<.01?o(n,t,i,r,u,f):(n.point=null,o(n,e,i,r,u,f),o(n,t,i,r,u,f)):n.point=t}else o(n,t,i,r,u,f)}function o(n,t,i,r,u,f){var e=(i+u)*.5,o=(r+f)*.5,s=t.x>=e,h=t.y>=o,l=(h<<1)+s;n.leaf=!1;n=n.nodes[l]||(n.nodes[l]=yh());s?i=e:u=e;h?r=o:f=o;c(n,t,i,r,u,f)}var f,l=-1,a=n.length,s,h,e;if(a&&isNaN(n[0].x)&&(n=n.map(sp)),arguments.length<5)if(arguments.length===3)u=r=i,i=t;else{for(t=i=Infinity,r=u=-Infinity;++l<a;)f=n[l],f.x<t&&(t=f.x),f.y<i&&(i=f.y),f.x>r&&(r=f.x),f.y>u&&(u=f.y);s=r-t;h=u-i;s>h?u=i+s:r=t+h}return e=yh(),e.add=function(n){c(e,n,t,i,r,u)},e.visit=function(n){pt(n,e,t,i,r,u)},n.forEach(e.add),e};d3.time={};r=Date;te=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];k.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){v.setUTCDate.apply(this._,arguments)},setDay:function(){v.setUTCDay.apply(this._,arguments)},setFullYear:function(){v.setUTCFullYear.apply(this._,arguments)},setHours:function(){v.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){v.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){v.setUTCMinutes.apply(this._,arguments)},setMonth:function(){v.setUTCMonth.apply(this._,arguments)},setSeconds:function(){v.setUTCSeconds.apply(this._,arguments)},setTime:function(){v.setTime.apply(this._,arguments)}};var v=Date.prototype,ie=te,kc=ie.map(ph),ar=["January","February","March","April","May","June","July","August","September","October","November","December"],re=ar.map(ph);d3.time.format=function(n){function t(t){for(var u=[],r=-1,f=0,e,o;++r<i;)n.charCodeAt(r)==37&&(u.push(n.substring(f,r),(o=vr[e=n.charAt(++r)])?o(t):e),f=r+1);return u.push(n.substring(f,r)),u.join("")}var i=n.length;return t.parse=function(t){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},f=yi(i,n,t,0),u;return f!=t.length?null:("p"in i&&(i.H=i.H%12+i.p*12),u=new r,u.setFullYear(i.y,i.m,i.d),u.setHours(i.H,i.M,i.S,i.L),u)},t.toString=function(){return n},t};var s=d3.format("02d"),dc=d3.format("03d"),tb=d3.format("04d"),ib=d3.format("2d"),gc=pi(ie),nl=pi(kc),tl=pi(ar),rb=wh(ar),il=pi(re),ub=wh(re),vr={a:function(n){return kc[n.getDay()]},A:function(n){return ie[n.getDay()]},b:function(n){return re[n.getMonth()]},B:function(n){return ar[n.getMonth()]},c:d3.time.format("%a %b %e %H:%M:%S %Y"),d:function(n){return s(n.getDate())},e:function(n){return ib(n.getDate())},H:function(n){return s(n.getHours())},I:function(n){return s(n.getHours()%12||12)},j:function(n){return dc(1+d3.time.dayOfYear(n))},L:function(n){return dc(n.getMilliseconds())},m:function(n){return s(n.getMonth()+1)},M:function(n){return s(n.getMinutes())},p:function(n){return n.getHours()>=12?"PM":"AM"},S:function(n){return s(n.getSeconds())},U:function(n){return s(d3.time.sundayOfYear(n))},w:function(n){return n.getDay()},W:function(n){return s(d3.time.mondayOfYear(n))},x:d3.time.format("%m/%d/%y"),X:d3.time.format("%H:%M:%S"),y:function(n){return s(n.getFullYear()%100)},Y:function(n){return tb(n.getFullYear()%1e4)},Z:rw,"%":function(){return"%"}},fb={a:hp,A:cp,b:lp,B:ap,c:vp,d:bh,e:bh,H:kh,I:kh,L:tw,m:dp,M:gp,p:iw,S:nw,x:yp,X:pp,y:bp,Y:wp},u=/^\s*\d+/,eb=d3.map({am:0,pm:1});d3.time.format.utc=function(n){function t(n){try{r=k;var t=new r;return t._=n,i(t)}finally{r=Date}}var i=d3.time.format(n);return t.parse=function(n){try{r=k;var t=i.parse(n);return t&&t._}finally{r=Date}},t.toString=i.toString,t};ue=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");d3.time.format.iso=Date.prototype.toISOString?ef:ue;ef.parse=function(n){var t=new Date(n);return isNaN(t)?null:t};ef.toString=ue.toString;d3.time.second=d(function(n){return new r(Math.floor(n/1e3)*1e3)},function(n,t){n.setTime(n.getTime()+Math.floor(t)*1e3)},function(n){return n.getSeconds()});d3.time.seconds=d3.time.second.range;d3.time.seconds.utc=d3.time.second.utc.range;d3.time.minute=d(function(n){return new r(Math.floor(n/6e4)*6e4)},function(n,t){n.setTime(n.getTime()+Math.floor(t)*6e4)},function(n){return n.getMinutes()});d3.time.minutes=d3.time.minute.range;d3.time.minutes.utc=d3.time.minute.utc.range;d3.time.hour=d(function(n){var t=n.getTimezoneOffset()/60;return new r((Math.floor(n/36e5-t)+t)*36e5)},function(n,t){n.setTime(n.getTime()+Math.floor(t)*36e5)},function(n){return n.getHours()});d3.time.hours=d3.time.hour.range;d3.time.hours.utc=d3.time.hour.utc.range;d3.time.day=d(function(n){var t=new r(1970,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1});d3.time.days=d3.time.day.range;d3.time.days.utc=d3.time.day.utc.range;d3.time.dayOfYear=function(n){var t=d3.time.year(n);return Math.floor((n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5)};te.forEach(function(n,t){n=n.toLowerCase();t=7-t;var i=d3.time[n]=d(function(n){return(n=d3.time.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+Math.floor(t)*7)},function(n){var i=d3.time.year(n).getDay();return Math.floor((d3.time.dayOfYear(n)+(i+t)%7)/7)-(i!==t)});d3.time[n+"s"]=i.range;d3.time[n+"s"].utc=i.utc.range;d3.time[n+"OfYear"]=function(n){var i=d3.time.year(n).getDay();return Math.floor((d3.time.dayOfYear(n)+(i+t)%7)/7)}});d3.time.week=d3.time.sunday;d3.time.weeks=d3.time.sunday.range;d3.time.weeks.utc=d3.time.sunday.utc.range;d3.time.weekOfYear=d3.time.sundayOfYear;d3.time.month=d(function(n){return n=d3.time.day(n),n.setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()});d3.time.months=d3.time.month.range;d3.time.months.utc=d3.time.month.utc.range;d3.time.year=d(function(n){return n=d3.time.day(n),n.setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()});d3.time.years=d3.time.year.range;d3.time.years.utc=d3.time.year.utc.range;var yr=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],fe=[[d3.time.second,1],[d3.time.second,5],[d3.time.second,15],[d3.time.second,30],[d3.time.minute,1],[d3.time.minute,5],[d3.time.minute,15],[d3.time.minute,30],[d3.time.hour,1],[d3.time.hour,3],[d3.time.hour,6],[d3.time.hour,12],[d3.time.day,1],[d3.time.day,2],[d3.time.week,1],[d3.time.month,1],[d3.time.month,3],[d3.time.year,1]],ob=[[d3.time.format("%Y"),function(){return!0}],[d3.time.format("%B"),function(n){return n.getMonth()}],[d3.time.format("%b %d"),function(n){return n.getDate()!=1}],[d3.time.format("%a %d"),function(n){return n.getDay()&&n.getDate()!=1}],[d3.time.format("%I %p"),function(n){return n.getHours()}],[d3.time.format("%I:%M"),function(n){return n.getMinutes()}],[d3.time.format(":%S"),function(n){return n.getSeconds()}],[d3.time.format(".%L"),function(n){return n.getMilliseconds()}]],rl=d3.scale.linear(),sb=dh(ob);fe.year=function(n,t){return rl.domain(n.map(fw)).ticks(t).map(hf)};d3.time.scale=function(){return of(d3.scale.linear(),fe,sb)};var ul=fe.map(function(n){return[n[0].utc,n[1]]}),hb=[[d3.time.format.utc("%Y"),function(){return!0}],[d3.time.format.utc("%B"),function(n){return n.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(n){return n.getUTCDate()!=1}],[d3.time.format.utc("%a %d"),function(n){return n.getUTCDay()&&n.getUTCDate()!=1}],[d3.time.format.utc("%I %p"),function(n){return n.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(n){return n.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(n){return n.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(n){return n.getUTCMilliseconds()}]],cb=dh(hb);ul.year=function(n,t){return rl.domain(n.map(ew)).ticks(t).map(cf)};d3.time.scale.utc=function(){return of(d3.scale.linear(),ul,cb)}})();